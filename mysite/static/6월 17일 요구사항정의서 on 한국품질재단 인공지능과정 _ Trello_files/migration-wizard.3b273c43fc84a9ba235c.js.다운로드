(window.webpackJsonp=window.webpackJsonp||[]).push([[144,24],{"./app/src/components/MigrationWizard/MigrationWizard.tsx":function(e,n,a){"use strict";a.r(n),a.d(n,"MigrationWizard",(function(){return mi}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./app/scripts/debug/constants.ts"),o=a("./app/src/components/ErrorBoundary/index.ts"),s=a("./node_modules/@apollo/client/index.js");function l(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function d(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?l(Object(a),!0).forEach((function(n){c(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function c(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const m={context:{operationName:"TeamlessBoards"}},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamlessBoards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundTile"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]}}]};var p=a("./packages/error-reporting/index.ts");const b=({skip:e}={})=>{var n,a,i;const{data:o,loading:l,error:c}=function(e){const n=d(d({},m),e);return s.useQuery(u,n)}({skip:e});Object(t.useEffect)((()=>{c&&Object(p.sendErrorEvent)(c,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{hook:"useTeamlessBoards"}})}),[c]);const b=(null==o||null===(n=o.member)||void 0===n?void 0:n.id)||"me",g=(null==o||null===(a=o.member)||void 0===a||null===(i=a.boards)||void 0===i?void 0:i.filter((({memberships:e,enterpriseOwned:n,idOrganization:a})=>!a&&!n&&e.find((({idMember:e,memberType:n})=>e===b&&"admin"===n)))))||[];return{loading:l,error:c,teamlessBoards:g}};var g=a("./app/src/components/Dialog/index.ts");let k,v;!function(e){e.INTRO="intro",e.MOVE_YOUR_BOARDS="move-your-boards",e.BC_FOR_FREE="bc-for-free",e.MEMBERSHIPS="memberships",e.BOARD_VISIBILITY="board-visibility",e.COMPLEX_MOVE_BOARDS="complex-move-boards",e.POST_MIGRATION="post-migration-cleanup",e.DONE="done"}(k||(k={})),function(e){e.Post="post",e.Pre="pre",e.Desktop="desktop",e.Advanced="advanced",e.VeryHeavyUsage="very heavy usage",e.None="none"}(v||(v={}));var f=a("./packages/browser/index.ts");function O(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function h(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?O(Object(a),!0).forEach((function(n){y(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function y(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const N={context:{operationName:"MigrationWizard"}},j={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MigrationWizard"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"teamify"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"impact"}},{kind:"Field",name:{kind:"Name",value:"autoMigration"}},{kind:"Field",name:{kind:"Name",value:"collaborativeTeamlessBoards"}},{kind:"Field",name:{kind:"Name",value:"soloTeamlessBoards"}},{kind:"Field",name:{kind:"Name",value:"inCollaborativeOrg"}},{kind:"Field",name:{kind:"Name",value:"voluntaryDone"}},{kind:"Field",name:{kind:"Name",value:"idOrgCreated"}},{kind:"Field",name:{kind:"Name",value:"idOrgSelected"}}]}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"nonPublic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullName"}}]}}]}}]}}]};function x(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function _(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?x(Object(a),!0).forEach((function(n){E(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function E(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const w={context:{operationName:"MigrationWizardDismissPostMigrationBanner"}},S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardDismissPostMigrationBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function M(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function B(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?M(Object(a),!0).forEach((function(n){D(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function D(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const F={context:{operationName:"MigrationWizardDismissAutoShow"}},I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardDismissAutoShow"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};const z="teamify-post-migration",P="teamify-auto-show",C={[k.INTRO]:"teamifyIntroModal",[k.MOVE_YOUR_BOARDS]:"teamifyMoveYourBoardsModal",[k.BC_FOR_FREE]:"teamifyBCModal",[k.MEMBERSHIPS]:"teamifyMembershipsModal",[k.BOARD_VISIBILITY]:"teamifyBoardVisibilityModal",[k.COMPLEX_MOVE_BOARDS]:"teamifyComplexMoveBoardsModal",[k.POST_MIGRATION]:"teamifyPostMigrationMoveBoardsModal",[k.DONE]:"teamifyDoneModal"};var T=a("./packages/session-cookie/index.ts");function A(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function W(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?A(Object(a),!0).forEach((function(n){V(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function V(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const R={context:{operationName:"MigratedBoards"}},L={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MigratedBoards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"permissionLevel"}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundTile"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]}}]};const Y=({idOrg:e,skip:n}={})=>{var a,i;const{data:o,loading:l,error:d,refetch:c}=function(e){const n=W(W({},R),e);return s.useQuery(L,n)}({variables:{orgId:null!=e?e:""},skip:n||!e});Object(t.useEffect)((()=>{d&&Object(p.sendErrorEvent)(d,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{hook:"useMigratedBoards"}})}),[d]);const m=Object(t.useMemo)((()=>{var e,n;return{id:null==o||null===(e=o.organization)||void 0===e?void 0:e.id,displayName:null==o||null===(n=o.organization)||void 0===n?void 0:n.displayName}}),[null==o?void 0:o.organization]),u=(null==o||null===(a=o.organization)||void 0===a||null===(i=a.boards)||void 0===i?void 0:i.filter((({memberships:e})=>e.find((({idMember:e})=>e===T.memberId)))))||[];return{loading:l,error:d,migrationOrg:m,migratedBoards:u,refetch:c}};var U=a("./packages/feature-flag-client/index.ts");const J=e=>{e&&Object(p.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{hook:"useMigrationWizard"}})},Z=({skip:e=!1}={})=>{var n,a,i,r,o,l;const d=Object(U.useFeatureFlag)("btg.migration-wizard",!1),c=Object(U.useFeatureFlag)("btg.migration-wizard.50-plus",!1),[m,u]=Object(t.useState)(v.None),[p,b]=Object(t.useState)(!1),{data:g,loading:k,error:O,refetch:y}=function(e){const n=h(h({},N),e);return s.useQuery(j,n)}({skip:!d||e});Object(t.useEffect)((()=>{J(O)}),[O]);const x=null==g?void 0:g.member,E=(null==x?void 0:x.id)||"me",M=null!==(n=null!==(a=null==x||null===(i=x.nonPublic)||void 0===i?void 0:i.fullName)&&void 0!==a?a:null==x?void 0:x.fullName)&&void 0!==n?n:"",D=Boolean(null==x?void 0:x.confirmed),C=Object(t.useMemo)((()=>{var e,n;return null!==(e=null==g||null===(n=g.member)||void 0===n?void 0:n.oneTimeMessagesDismissed)&&void 0!==e?e:[]}),[null==g||null===(r=g.member)||void 0===r?void 0:r.oneTimeMessagesDismissed]),T=null==x?void 0:x.teamify,A=null==T?void 0:T.state,W=null==T?void 0:T.impact,V=null==T?void 0:T.voluntaryDone,R=null!==(o=null==T?void 0:T.collaborativeTeamlessBoards)&&void 0!==o?o:0,L=null!==(l=null==T?void 0:T.soloTeamlessBoards)&&void 0!==l?l:0,Z=null==T?void 0:T.idOrgCreated,K=null==T?void 0:T.idOrgSelected,{migratedBoards:H,loading:X,error:G}=Y({idOrg:Z||K||""});Object(t.useEffect)((()=>{J(G)}),[G]);const[q,{loading:Q}]=function(e){const n=_(_({},w),e);return s.useMutation(S,n)}(),$=C.includes(z),[ee,{loading:ne}]=function(e){const n=B(B({},F),e);return s.useMutation(I,n)}(),ae=C.includes(P),te=Object(t.useCallback)((()=>{Q||q({variables:{messageId:z},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:[...C,z],__typename:"Member"}}})}),[q,C,Q]),ie=Object(t.useCallback)((()=>{ne||ae||ee({variables:{messageId:P},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:[...C,P],__typename:"Member"}}})}),[ee,ae,ne,C]),re=Object(t.useCallback)((()=>{let e=v.None;return"nope"!==A&&D?"pending"===A?e=R+L>=50?c?v.VeryHeavyUsage:v.None:d?R<=0&&L<=0?v.None:Object(f.isDesktop)()?v.Desktop:V?v.Advanced:v.Pre:v.None:"done"===A&&(H.length>=50?(te(),e=v.None):e=d?$||"none"===W||!Z&&!K||H.length<=0?v.None:Object(f.isDesktop)()?v.Desktop:v.Post:v.None):e=v.None,e}),[R,D,te,$,Z,K,W,d,c,H,L,A,V]);Object(t.useEffect)((()=>{if(!k&&!X&&(m===v.None||p)){const e=re();e!==m&&u(e),p&&b(!1)}}),[m,re,k,X,u,b,p]);const oe=Object(t.useCallback)((()=>{y(),b(!0)}),[y,b]);return{loading:k,loadingMigratedBoards:X,error:O,experience:m,teamify:T,memberId:E,memberName:M,dismissBanner:te,hasDismissedPostMigrationBanner:$,refetch:y,checkExperience:oe,hasDismissedAutoShow:ae,dismissAutoShow:ie}},K=(e,n)=>{switch(n.type){case"add":return[...e,n.idBoard];case"remove":return e.filter((e=>e!==n.idBoard));case"clear":return[];case"all":return n.idBoards;default:return e}};var H=a("./packages/atlassian-analytics/index.ts");function X(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function G(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?X(Object(a),!0).forEach((function(n){q(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function q(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const Q={context:{operationName:"BoardsInOrg"}},$={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardsInOrg"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]};function ee(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function ne(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(a),!0).forEach((function(n){ae(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function ae(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const te={context:{operationName:"MembersOfBoards"}},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MembersOfBoards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoards"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"idBoards"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"avatarSource"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"nonPublic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"fullName"}}]}}]}}]}}]}}]};const re=e=>{var n;const{data:a,loading:i,error:o}=function(e){const n=G(G({},Q),e);return s.useQuery($,n)}({variables:{orgId:e},skip:!e,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),l=((null==a||null===(n=a.organization)||void 0===n?void 0:n.boards)||[]).map((e=>e.id)),{data:d,loading:c,error:m}=function(e){const n=ne(ne({},te),e);return s.useQuery(ie,n)}({variables:{idBoards:l},skip:i||!e});return Object(t.useEffect)((()=>{o&&Object(p.sendErrorEvent)(o,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{hook:"useTeamGuests"}})}),[o]),Object(t.useEffect)((()=>{m&&Object(p.sendErrorEvent)(m,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{hook:"useTeamGuests"}})}),[m]),Object(t.useMemo)((()=>{var e;const n=((null==a||null===(e=a.organization)||void 0===e?void 0:e.memberships)||[]).map((e=>e.idMember)),t=((null==d?void 0:d.boards)||[]).flatMap((({members:e})=>e.filter((e=>!n.includes(e.id)&&e.id!==T.memberId)))).filter((({id:e},n,a)=>a.findIndex((n=>n.id===e))===n)).sort(((e,n)=>{var a,t,i;return null!==(a=null==e||null===(t=e.fullName)||void 0===t?void 0:t.localeCompare(null!==(i=null==n?void 0:n.fullName)&&void 0!==i?i:""))&&void 0!==a?a:0}));return{loading:i||c,error:o||m,teamGuests:t}}),[a,d,i,c,o,m])};var oe=a("./app/scripts/init/useSocketSubscription.ts"),se=a("./packages/router/index.ts"),le=a("./packages/routes/index.ts"),de=a("./app/scripts/db/model-loader.js"),ce=a.n(de);const me=k.INTRO,ue=()=>{const{memberName:e,loading:n,teamify:a,experience:i,dismissBanner:r,hasDismissedPostMigrationBanner:o,refetch:s,checkExperience:l,hasDismissedAutoShow:d,dismissAutoShow:c}=Z(),m=Object(U.useFeatureFlag)("btg.wizard-auto-show",!1),{dialogProps:u,show:p}=Object(g.c)(),{teamlessBoards:f}=b({skip:n||i!==v.Pre&&i!==v.Advanced&&i!==v.Post}),[O,h]=Object(t.useState)(""),[y,N]=Object(t.useState)(null),[j,x]=Object(t.useState)(!1),{teamGuests:_,loading:E}=re(O),[w,S]=Object(t.useState)(""),[M,B]=Object(t.useState)(me),[D,F]=Object(t.useState)(),[I,z]=Object(t.useReducer)(K,[]),[P,A]=Object(t.useState)(!1);Object(oe.a)("Organization",O,!O||!u.isOpen);const{pathname:W}=Object(se.useLocation)(),V=null==a?void 0:a.voluntaryDone,R=Object(t.useCallback)((e=>{if(e){switch(e){case k.MEMBERSHIPS:z({type:"clear"}),S(""),E||""===O||(0===(null==_?void 0:_.length)?B(k.BOARD_VISIBILITY):B(e));break;default:B(e)}F(M)}}),[M,z,_,E,O]),L=Object(t.useCallback)((e=>{R(e)}),[R]);Object(t.useEffect)((()=>{if(u.isOpen){if((M===k.MOVE_YOUR_BOARDS||M===k.BC_FOR_FREE)&&""!==O)return;H.Analytics.sendScreenEvent({name:C[M],containers:{organization:{id:O}},attributes:{forcedMigration:i===v.Post?"post":"pre"}})}}),[u.isOpen,M,O,i]);const Y=Object(t.useCallback)((()=>{M===k.BC_FOR_FREE&&H.Analytics.sendClickedButtonEvent({buttonName:"backButton",source:"teamifyBCModal"}),D&&R(D)}),[R,D,M]),J=Object(t.useCallback)((()=>{u.hide(),R(k.INTRO),z({type:"clear"}),N(V),h(""),O&&(ce.a.loadMemberBoardsData(T.memberId),ce.a.loadOrganizationBoardsData(O)),P&&(l(),A(!1))}),[u,R,z,V,l,P,A,O]),X=Object(t.useCallback)((()=>{P||A(!0)}),[P]);return Object(t.useEffect)((()=>{n||j||(x(!0),N(V))}),[n,N,j,x,V]),Object(t.useEffect)((()=>{!n&&e&&S("".concat(e,"'s workspace"))}),[n,e,S]),Object(t.useEffect)((()=>{!n&&j&&("done"===(null==a?void 0:a.state)?R(k.POST_MIGRATION):y&&M!==k.COMPLEX_MOVE_BOARDS&&R(k.COMPLEX_MOVE_BOARDS))}),[n,y,R,M,null==a?void 0:a.state,j]),Object(t.useEffect)((()=>{!m||i!==v.Pre||u.isOpen||d||n||Object(le.isCardRoute)(Object(le.getRouteIdFromPathname)(W))||(p(),c())}),[u.isOpen,c,i,d,m,n,W,p]),Object(t.useMemo)((()=>({teamlessBoards:f,currentStep:M,previousStep:D,onNext:L,onBack:Y,orgId:O,setOrgId:h,selectedBoards:I,updateBoards:z,teamName:w,setTeamName:S,dialogProps:u,hideWizard:J,experience:i,teamify:a,dismissBanner:r,hasDismissedPostMigrationBanner:o,refetchMigrationWizardQuery:s,checkEligibilityOnClose:X})),[f,M,D,L,Y,O,h,I,z,w,S,u,J,i,a,r,o,s,X])},pe={teamlessBoards:[],currentStep:me,onNext:()=>{},onBack:()=>{},setOrgId:()=>{},orgId:"",selectedBoards:[],updateBoards:()=>{},teamName:"",setTeamName:()=>{},dialogProps:{hide:()=>{},show:()=>{},toggle:()=>{},isOpen:!1},hideWizard:()=>{},experience:v.None,teamify:null,dismissBanner:()=>{},hasDismissedPostMigrationBanner:!1,refetchMigrationWizardQuery:()=>{},checkEligibilityOnClose:()=>{}},be=i.a.createContext(pe),ge=({children:e})=>{const n=ue();return i.a.createElement(o.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard}},i.a.createElement(be.Provider,{value:n},e))};var ke=a("./node_modules/moment/moment.js"),ve=a.n(ke),fe=a("./packages/nachos/button.ts"),Oe=a("./app/src/components/Banner/index.ts"),he=a("./packages/i18n/index.ts"),ye=a("./packages/test-ids/index.ts"),Ne=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),je=a.n(Ne),xe=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDesktopBanner.less"),_e={insert:"head",singleton:!1},Ee=(je()(xe.a,_e),xe.a.locals||{});const we=Object(he.forNamespace)(["migration wizard"]),Se=()=>{const{teamify:e}=Object(t.useContext)(be);return i.a.createElement(i.a.Fragment,null,i.a.createElement(Oe.a,{inlinePadding:!0,textClassName:Ee.banner},i.a.createElement("span",{className:Ee.text},!(null==e||!e.autoMigration)&&we("desktop-banner",{migrationDate:ve()(null==e?void 0:e.autoMigration).format("MMMM Do")})),i.a.createElement(fe.Button,{appearance:"primary",className:Ee.button,onClick:()=>{window.open("/","_blank")},testId:ye.MigrationWizardTestIds.StartButton},we("desktop-banner-button"))))};var Me=a("./node_modules/classnames/index.js"),Be=a.n(Me),De=a("./packages/nachos/icons/back.tsx"),Fe=a("./packages/nachos/icons/close.tsx"),Ie=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDialog.less"),ze={insert:"head",singleton:!1},Pe=(je()(Ie.a,ze),Ie.a.locals||{}),Ce=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardStart.less"),Te={insert:"head",singleton:!1},Ae=(je()(Ce.a,Te),Ce.a.locals||{});const We=Object(he.forNamespace)(["migration wizard"]),Ve=()=>{const{onNext:e,teamify:n}=Object(t.useContext)(be);let r;return null!=n&&n.autoMigration&&(r=ve()(null==n?void 0:n.autoMigration).format("MMMM Do")),i.a.createElement("div",{className:Ae.container},i.a.createElement("img",{src:a("./resources/images/migration-wizard/start-board-migration.png"),alt:"",role:"presentation",width:"233",height:"178"}),i.a.createElement("h1",{className:Ae.startMigrationTitle},We("simple-start-migration-title")),i.a.createElement("p",{className:Ae.startMigrationBody},We("simple-start-teams-are-workspaces")),i.a.createElement(fe.Button,{appearance:"primary",size:"wide",onClick:()=>null==e?void 0:e(k.MOVE_YOUR_BOARDS),testId:ye.MigrationWizardTestIds.IntroStartButton},We("simple-start-migration-button")),i.a.createElement("hr",{className:Ae.line}),r?i.a.createElement("p",{className:Ae.footerText},We("simple-start-migration-footer-with-date",{migrationDate:r})):i.a.createElement("p",{className:Ae.footerText},We("simple-start-migration-footer-without-date")))};var Re=a("./packages/nachos/spinner.ts"),Le=a("./packages/graphql-error-handling/index.ts");function Ye(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Ue(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Ye(Object(a),!0).forEach((function(n){Je(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ye(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function Je(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const Ze={context:{operationName:"UseCreateTeamAndMoveBoardsCreateTeam"}},Ke={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UseCreateTeamAndMoveBoardsCreateTeam"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"default",block:!1}},{kind:"Argument",name:{kind:"Name",value:"teamType"},value:{kind:"StringValue",value:"other",block:!1}},{kind:"Argument",name:{kind:"Name",value:"creationMethod"},value:{kind:"StringValue",value:"teamify-wizard",block:!1}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"StringValue",value:"",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};function He(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Xe(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?He(Object(a),!0).forEach((function(n){Ge(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function Ge(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const qe={context:{operationName:"MigrationWizardMoveBoard"}},Qe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardMoveBoard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"keepBillableGuests"},value:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}}]}}]}}]};function $e(e){const n=Xe(Xe({},qe),e);return s.useMutation(Qe,n)}function en(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function nn(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?en(Object(a),!0).forEach((function(n){an(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):en(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function an(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const tn={context:{operationName:"MigrationWizardUpdateVoluntaryDone"}},rn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardUpdateVoluntaryDone"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateTeamifyVoluntaryDone"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};function on(e){const n=nn(nn({},tn),e);return s.useMutation(rn,n)}function sn(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function ln(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?sn(Object(a),!0).forEach((function(n){dn(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sn(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function dn(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const cn={context:{operationName:"AddFreeTrial"}},mn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddFreeTrial"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addFreeTrial"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"via"},value:{kind:"StringValue",value:"teamify-wizard",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"standing"}},{kind:"Field",name:{kind:"Name",value:"dateFirstSubscription"}}]}}]}}]}}]};const un=()=>{const[e,n]=Object(t.useState)(""),[a,i]=Object(t.useState)(""),[o,l]=Object(t.useState)(""),{setOrgId:d}=Object(t.useContext)(be),[c,{loading:m}]=function(e){const n=Ue(Ue({},Ze),e);return s.useMutation(Ke,n)}(),[u]=function(e){const n=ln(ln({},cn),e);return s.useMutation(mn,n)}(),[b]=$e(),[g]=on();return{createTeamAndMoveBoards:async(e,a)=>{if(!a||0===a.length)throw new Error("Need to provide boards to move");const t=await(async(e,{withFreeTrial:a=!1})=>{var t;if(m)return;const o=e.trim();let s;try{const{data:e}=await c({variables:{name:o}});s=e}catch(e){const a=Object(Le.c)(e);switch(null==a?void 0:a.code){case"ORG_DISPLAY_NAME_SHORT":n(Object(he.localizeErrorCode)("organization","ORG_DISPLAY_NAME_SHORT"));break;default:i(Object(he.localizeErrorCode)("organization","UNKNOWN_ERROR")),Object(p.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:a})}}if(null!==(t=s)&&void 0!==t&&t.createOrganization){const e=s.createOrganization.id;if(!a)return e;try{return await u({variables:{orgId:e}}),e}catch(e){const n=Object(Le.c)(e);return i((null==n?void 0:n.message)||"Could not add free trial"),void Object(p.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:n})}}})(e,{withFreeTrial:a.length>9}),o=t?await(async(e,n)=>{const a=[];for(const o of n)try{var t;const{data:n}=await b({variables:{orgId:e,boardId:o,keepBillableGuests:!0}});var i;null!=n&&null!==(t=n.updateBoardOrg)&&void 0!==t&&t.id&&(a.push(null==n||null===(i=n.updateBoardOrg)||void 0===i?void 0:i.id),H.Analytics.sendUpdatedBoardFieldEvent({field:"organization",value:e,source:C[k.MOVE_YOUR_BOARDS],containers:{board:{id:o},organization:{id:e}}}))}catch(e){const n=e=>{const n=Object(Le.c)(e);null==n||n.code,l(Object(he.localizeErrorCode)("organization","UNKNOWN_ERROR")),Object(p.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:n})};Array.isArray(e.networkError)?e.networkError.map((e=>n(new s.ApolloError({networkError:e})))):n(e)}return a})(t,a):[];t&&d(t);try{await g({variables:{memberId:"me"}})}catch(e){const n=Object(Le.c)(e);Object(p.sendErrorEvent)(n||e,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:n})}return{organizationId:t,movedBoards:o}},teamNameError:e,setTeamNameError:n,teamError:a,setTeamError:i,boardError:o,setBoardError:l}};var pn=a("./app/common/lib/util/preview.ts"),bn=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/SelectableCompactBoardTile/SelectableCompactBoardTile.less"),gn={insert:"head",singleton:!1},kn=(je()(bn.a,gn),bn.a.locals||{});const vn=({boardId:e,boardName:n,background:a,isSelected:r=!1,onClick:o,isDisabled:s,title:l,testId:d,tabIndex:c,setRef:m})=>{const u=Be()(kn.container,{[kn.selectable]:!s&&Boolean(o),[kn.selectedCompactBoardTile]:r,[kn.disabled]:s}),p=(e=>{const n={};let a="";if(e){var t,i,r,o;a=e.backgroundTile?null!==(t=e.backgroundImage)&&void 0!==t?t:"":null!==(i=null!==(r=null===(o=Object(pn.smallestPreviewBiggerThan)(e.backgroundImageScaled,400,200))||void 0===o?void 0:o.url)&&void 0!==r?r:e.backgroundImage)&&void 0!==i?i:"",a&&(n.backgroundImage="url('".concat(a,"')")),n.backgroundColor=e.backgroundTopColor||void 0}return n})(a),b=Object(t.useRef)(null);return Object(t.useEffect)((()=>{null==m||m(b)}),[b,m]),i.a.createElement("div",{ref:b,className:u,style:p,onClick:e=>{s||null==o||o(e)},role:"button",key:e,title:l,"data-test-id":d,tabIndex:c},i.a.createElement("div",{className:kn.boardThumbnail,style:p}),i.a.createElement("div",{className:kn.boardDescription},i.a.createElement("div",{className:kn.boardNameWrapper},i.a.createElement("div",{className:kn.boardName},n)),r&&i.a.createElement("div",{className:kn.checkmark},"âœ“")))};var fn=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMessagePill.less"),On={insert:"head",singleton:!1},hn=(je()(fn.a,On),fn.a.locals||{});const yn=({children:e,type:n})=>i.a.createElement("div",{"data-test-id":ye.MigrationWizardTestIds.ErrorPill,role:"alert",className:Be()(hn.pill,{[hn.error]:"error"===n,[hn.alert]:"alert"===n})},e);var Nn=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardCreateTeamMoveBoards.less"),jn={insert:"head",singleton:!1},xn=(je()(Nn.a,jn),Nn.a.locals||{}),_n=a("./packages/keybindings/index.ts");const En=()=>{const{teamlessBoards:e,updateBoards:n}=Object(t.useContext)(be),[a,i]=Object(t.useState)(null),r=Object(t.useRef)(e.map((e=>Object(t.createRef)()))),o=Object(t.useCallback)(((e,t,r,o=!1)=>s=>{if(null!==a){switch(Object(_n.getKey)(s)){case _n.Key.ArrowDown:if(a+1===r.length-1){i(a+1);break}if(a+2>r.length-1)break;i(a+2);break;case _n.Key.ArrowUp:if(a-2<0)break;i(a-2);break;case _n.Key.ArrowRight:if(a===r.length-1)break;i(a+1);break;case _n.Key.ArrowLeft:if(0===a)break;i(a-1);break;case _n.Key.Enter:case _n.Key.Space:if(!e&&o)break;n({type:e?"remove":"add",idBoard:t.id});break;default:return}s.preventDefault()}}),[a,n]),s=Object(t.useCallback)(((e,n)=>{r.current[n]=e}),[r]),l=Object(t.useCallback)((e=>n=>s(n,e)),[s]);return Object(t.useEffect)((()=>{var e;null!==a&&(null===(e=r.current[a].current)||void 0===e||e.focus())}),[r,a]),{setRef:s,setRefAtIndex:l,onKeyboardNavigationBoardList:o,boardRefs:r,activeElementIndex:a,setActiveElementIndex:i}},wn=Object(he.forNamespace)(["migration wizard"]),Sn=Object(he.forNamespace)(["error handling","organization"]),Mn=()=>{const e=Object(t.useRef)(null),[n,a]=Object(t.useState)(!1),[r,o]=Object(t.useState)(),{teamlessBoards:s,selectedBoards:l,updateBoards:d,onNext:c,teamName:m,setTeamName:u,orgId:p}=Object(t.useContext)(be),{createTeamAndMoveBoards:b,teamNameError:g,setTeamNameError:v,teamError:f}=un(),{setRefAtIndex:O,onKeyboardNavigationBoardList:h,setActiveElementIndex:y}=En(),N=Object(t.useRef)(null),j=Object(t.useCallback)((async()=>{if(0!==m.length)if(m.length>100)v(Sn("ORG_DISPLAY_NAME_LONG"));else if(l.length>9)null==c||c(k.BC_FOR_FREE);else{const e="create-organization/migrationWizard",n=C[k.MOVE_YOUR_BOARDS],t=H.Analytics.startTask({taskName:e,source:n});try{a(!0),await b(m,l),H.Analytics.taskSucceeded({taskName:e,traceId:t,source:n})}catch(a){H.Analytics.taskFailed({taskName:e,traceId:t,source:n,error:a}),o(a)}}else v(Sn("ORG_DISPLAY_NAME_SHORT"))}),[b,c,l,v,m]);let x;Object(t.useEffect)((()=>{""!==p&&(null==c||c(k.MEMBERSHIPS))}),[p,c]),Object(t.useEffect)((()=>{d({type:"all",idBoards:s.map((e=>e.id))})}),[]),x=g||(r||(f||"")),Object(t.useEffect)((()=>{e.current&&setTimeout((()=>{var n,a;null==e||null===(n=e.current)||void 0===n||n.focus(),null==e||null===(a=e.current)||void 0===a||a.select()}),500)}),[e]);const _=0===l.length||0===m.length||n,E=Object(t.useCallback)((e=>{var n;e.preventDefault(),null==N||null===(n=N.current)||void 0===n||n.focus(),_||j()}),[_,j]),w=Object(t.useCallback)((n=>{var a;switch(Object(_n.getKey)(n)){case _n.Key.Enter:_||j();break;case _n.Key.Tab:null==e||null===(a=e.current)||void 0===a||a.focus();break;default:return}n.preventDefault()}),[_,j]);return i.a.createElement("div",{className:xn.container},i.a.createElement("form",{onSubmit:E},i.a.createElement("h2",null,wn("create-team-move-boards-title")),i.a.createElement("p",null,wn("create-team-move-boards-body")),i.a.createElement("hr",null),i.a.createElement("label",{htmlFor:"migrationWizardMoveBoards"},wn("create-team-move-boards-add-boards-prompt")),i.a.createElement("input",{id:"migrationWizardMoveBoards",ref:e,tabIndex:0,name:"teamName",type:"text",value:m,onChange:e=>{v(""),u(e.currentTarget.value)},"data-test-id":ye.MigrationWizardTestIds.TeamNameInput}),i.a.createElement(fe.Button,{appearance:"subtle-link",onClick:()=>{d({type:"clear"}),null==c||c(k.COMPLEX_MOVE_BOARDS)},className:xn.selectAnotherButton,testId:ye.MigrationWizardTestIds.SelectOtherTeamButton,tabIndex:0},wn("create-team-move-boards-different-workspace-prompt")),i.a.createElement("h3",{tabIndex:-1},wn("create-team-move-boards-selection-prompt-all-or-none-selected",{selectedBoards:l.length}),i.a.createElement(fe.Button,{tabIndex:0,appearance:"subtle-link",className:xn.selectionButton,testId:ye.MigrationWizardTestIds.SelectAllButton,onClick:()=>{l.length>0?d({type:"clear"}):d({type:"all",idBoards:s.map((e=>e.id))})}},l.length>0?wn("start-migration-selection-unselect-all",{count:l.length}):wn("start-migration-selection-none-or-some-selected"))),i.a.createElement("div",{className:xn.boards},s.map(((e,n)=>{var a;const{backgroundTopColor:t="",backgroundImage:r="",backgroundImageScaled:o=[],backgroundTile:c=!1}=null!==(a=e.prefs)&&void 0!==a?a:{},m=l.includes(e.id);return i.a.createElement("div",{role:"radio",onKeyDown:h(m,e,s),key:e.id,className:xn.boardTile,"aria-checked":m,onFocus:()=>y(n)},i.a.createElement(vn,{boardId:e.id,boardName:e.name,background:{backgroundTopColor:t,backgroundImage:r,backgroundImageScaled:o,backgroundTile:c},onClick:()=>{d({type:m?"remove":"add",idBoard:e.id})},isSelected:m,testId:ye.MigrationWizardTestIds.BoardTile,tabIndex:0,setRef:O(n)}))}))),i.a.createElement("hr",{className:xn.bottomLine}),0===l.length&&i.a.createElement("p",{className:xn.note},wn("create-team-move-boards-selection-noneselected-footer")),x&&i.a.createElement(yn,{type:"error"},x),i.a.createElement(fe.Button,{appearance:"primary",className:xn.nextButton,onClick:j,ref:N,isDisabled:_,testId:ye.MigrationWizardTestIds.CreateBoardsNextButton,tabIndex:0,onKeyDown:w},n?i.a.createElement(Re.a,{small:!0}):wn("create-team-move-boards-next-button"))))};var Bn=a("./packages/nachos/src/components/Spinner/index.ts"),Dn=a("./packages/nachos/icons/board.tsx"),Fn=a("./packages/nachos/icons/admin-chevron.tsx"),In=a("./packages/nachos/icons/butler-bot.tsx"),zn=a("./packages/nachos/icons/checklist.tsx"),Pn=a("./packages/nachos/icons/power-up.tsx"),Cn=a("./packages/nachos/icons/sparkle.tsx"),Tn=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBusinessClass.less"),An={insert:"head",singleton:!1},Wn=(je()(Tn.a,An),Tn.a.locals||{});const Vn=Object(he.forNamespace)(["migration wizard"]),Rn=Object(he.forNamespace)(["alerts"]),Ln=()=>{const[e,n]=Object(t.useState)(!1),{onNext:r,selectedBoards:o,teamName:s,orgId:l}=Object(t.useContext)(be),[d,c]=Object(t.useState)(),{createTeamAndMoveBoards:m,teamNameError:u,teamError:p}=un();let b;return Object(t.useEffect)((()=>{""!==l&&(null==r||r(k.MEMBERSHIPS))}),[l,r]),b=u||(d||(p||"")),i.a.createElement("div",{className:Wn.container},i.a.createElement("img",{className:Wn.sparkle,src:a("./resources/images/bc-sparkle-flat.svg"),alt:"",role:"presentation"}),i.a.createElement("h2",null,Vn("business-class-title")),i.a.createElement("h3",null,Vn("business-class-paragraph",{numberOfBoards:o.length})),i.a.createElement("p",null,Vn("business-class-list-header")),i.a.createElement("ul",{className:Wn.featureList},i.a.createElement("li",null,i.a.createElement("span",{className:Wn.featureIcon},i.a.createElement(Dn.BoardIcon,null)),Vn("business-class-list-1-unlimited-boards-corrected")),i.a.createElement("li",null,i.a.createElement("span",{className:Wn.featureIcon},i.a.createElement(Pn.a,null)),Vn("business-class-list-2-unlimited-pups-corrected")),i.a.createElement("li",null,i.a.createElement("span",{className:Wn.featureIcon},i.a.createElement(zn.a,null)),Vn("business-class-list-3-assign")),i.a.createElement("li",null,i.a.createElement("span",{className:Wn.featureIcon},i.a.createElement(Fn.a,null)),Vn("business-class-list-4-admin-corrected-2")),i.a.createElement("li",null,i.a.createElement("span",{className:Wn.featureIcon},i.a.createElement(In.a,null)),Vn("business-class-list-5-butler")),i.a.createElement("li",null,i.a.createElement("span",{className:Wn.featureIcon},i.a.createElement(Cn.a,null)),Vn("business-class-list-6-more"))),i.a.createElement("hr",null),b&&i.a.createElement(yn,{type:"error"},b),i.a.createElement(fe.Button,{appearance:"primary",className:Wn.button,isDisabled:e,onClick:async()=>{const e="create-organization/migrationWizard",a=C[k.BC_FOR_FREE],t=H.Analytics.startTask({taskName:e,source:a});try{n(!0),await m(s,o),H.Analytics.taskSucceeded({taskName:e,traceId:t,source:a})}catch(n){var i;H.Analytics.taskFailed({taskName:e,traceId:t,source:a,error:n}),c(null!==(i=null==n?void 0:n.message)&&void 0!==i?i:Rn("something-went-wrong"))}finally{n(!1)}}},e?i.a.createElement(Bn.a,{small:!0}):Vn("create-team-move-boards-next-button")),i.a.createElement("p",{className:Wn.disclaimer},Vn("business-class-footer")))};var Yn=a("./packages/nachos/icons/subscribe.tsx"),Un=a("./app/src/components/MemberAvatar/index.ts"),Jn=a("./packages/nachos/icons/add-member.tsx"),Zn=a("./packages/nachos/icons/private.tsx"),Kn=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardTeamMemberships.less"),Hn={insert:"head",singleton:!1},Xn=(je()(Kn.a,Hn),Kn.a.locals||{});function Gn(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function qn(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Gn(Object(a),!0).forEach((function(n){Qn(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gn(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function Qn(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const $n={context:{operationName:"SelectedWorkspace"}},ea={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelectedWorkspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"premiumFeatures"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"}},{kind:"Field",name:{kind:"Name",value:"org"}},{kind:"Field",name:{kind:"Name",value:"enterprise"}},{kind:"Field",name:{kind:"Name",value:"public"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundTile"}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}}]}}]}}]}}]};const na=()=>{var e;const{orgId:n}=Object(t.useContext)(be),{data:a,loading:i,error:o}=function(e){const n=qn(qn({},$n),e);return s.useQuery(ea,n)}({variables:{orgId:n},skip:!n});return Object(t.useEffect)((()=>{o&&Object(p.sendErrorEvent)(o,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{hook:"useSelectedWorkspace"}})}),[o]),{loading:i,boards:(null==a||null===(e=a.organization)||void 0===e?void 0:e.boards)||[],org:(null==a?void 0:a.organization)||null,error:o}};var aa=a("./packages/nachos/icons/check.tsx"),ta=a("./packages/nachos/icons/down.tsx"),ia=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMembershipDropdown.less"),ra={insert:"head",singleton:!1},oa=(je()(ia.a,ra),ia.a.locals||{}),sa=a("./packages/nachos/src/components/Popover/index.ts"),la=a("./app/src/components/PopoverMenu/index.ts");function da(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function ca(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?da(Object(a),!0).forEach((function(n){ma(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):da(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function ma(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const ua={context:{operationName:"MigrationWizardMembershipDropdown"}},pa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardMembershipDropdown"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"users"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MemberOrEmail"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMembersToOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"users"},value:{kind:"Variable",name:{kind:"Name",value:"users"}}},{kind:"Argument",name:{kind:"Name",value:"invitationMessage"},value:{kind:"StringValue",value:"",block:!1}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"}},{kind:"Field",name:{kind:"Name",value:"error"}}]}}]}}]};function ba(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function ga(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?ba(Object(a),!0).forEach((function(n){ka(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ba(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function ka(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const va={context:{operationName:"MigrationWizardRemoveMembersFromWorkspace"}},fa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardRemoveMembersFromWorkspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"users"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MemberOrEmail"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeMembersFromWorkspace"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"users"},value:{kind:"Variable",name:{kind:"Name",value:"users"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"}},{kind:"Field",name:{kind:"Name",value:"error"}}]}}]}}]};function Oa(){return(Oa=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}const ha=Object(he.forNamespace)("view title"),ya=Object(he.forNamespace)(["migration wizard"]),Na={guest:"guest-membership",normal:"normal-membership",admin:"admin-membership"},ja=({orgId:e,isPaidProduct:n,memberId:a,onError:o=(()=>{}),onSuccess:l=(()=>{})})=>{const{popoverProps:d,toggle:c,hide:m,triggerRef:u}=Object(sa.e)(),[b,g]=Object(t.useState)("guest"),[k]=function(e){const n=ca(ca({},ua),e);return s.useMutation(pa,n)}(),[v]=function(e){const n=ga(ga({},va),e);return s.useMutation(fa,n)}(),f=async n=>{let t;if("guest"===n){var i,s;const{data:n}=await v({variables:{orgId:e,users:null!==(i=[{id:a}])&&void 0!==i?i:[],type:"guest"}});t=null==n||null===(s=n.removeMembersFromWorkspace)||void 0===s?void 0:s.error}else{var d,c;const{data:i}=await k({variables:{orgId:e,users:null!==(d=[{id:a}])&&void 0!==d?d:[],type:n}});t=null==i||null===(c=i.addMembersToOrg)||void 0===c?void 0:c.error}t?(o(),Object(p.sendErrorEvent)(new Error(t),{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{component:"MigrationWizardMembershipDropdown",errorCode:"UNKNOWN_ERROR"}})):(l(),g(n)),m()};return i.a.createElement(i.a.Fragment,null,i.a.createElement(fe.Button,{iconAfter:i.a.createElement(ta.DownIcon,{size:"small",dangerous_className:oa.downIcon}),className:oa.permissionButton,onClick:()=>c(),ref:u},ya(Na[b])),i.a.createElement(sa.b,Oa({},d,{title:ha("change permissions")}),i.a.createElement(la.a,{className:oa.dropdownPopover},i.a.createElement(la.b,{className:oa.popoverMenubuttonOptions,onClick:()=>f("guest")},i.a.createElement("span",{className:oa.membershipTitle},ya("guest-membership")),"guest"===b&&i.a.createElement(aa.a,{size:"small",dangerous_className:oa.checkmark,block:!0}),i.a.createElement("div",null,i.a.createElement("span",{className:oa.membershipSubText},ya("guest-membership-description")))),i.a.createElement(la.b,{className:oa.popoverMenubuttonOptions,onClick:()=>f("normal")},i.a.createElement("span",{className:oa.membershipTitle},ya("normal-membership")),"normal"===b&&i.a.createElement(aa.a,{size:"small",dangerous_className:oa.checkmark,block:!0}),i.a.createElement("div",null,i.a.createElement("span",{className:oa.membershipSubText},ya(n?"normal-membership-description-paid":"normal-membership-description-free")))),n&&i.a.createElement(la.b,{className:oa.popoverMenubuttonOptions,onClick:()=>f("admin")},i.a.createElement("span",{className:oa.membershipTitle},ya("admin-membership")),"admin"===b&&i.a.createElement(aa.a,{size:"small",dangerous_className:oa.checkmark,block:!0}),i.a.createElement("div",null,i.a.createElement("span",{className:oa.membershipSubText},ya("admin-membership-description")))))))};var xa=a("./packages/product-features/index.ts");function _a(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Ea(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?_a(Object(a),!0).forEach((function(n){wa(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_a(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function wa(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const Sa=Object(he.forNamespace)(["alerts"]),Ma=Object(he.forNamespace)(["migration wizard"]),Ba=()=>{var e,n;const{org:a}=na(),{orgId:r,onNext:o}=Object(t.useContext)(be),{teamGuests:s,loading:l}=re(r),[d,c]=Object(t.useState)(s),m=xa.ProductFeatures.hasProduct(null!==(e=null==a||null===(n=a.products)||void 0===n?void 0:n[0])&&void 0!==e?e:void 0),[u,p]=Object(t.useState)("");Object(t.useEffect)((()=>{l||0!==(null==d?void 0:d.length)||c(s)}),[l,s,d,c]);const b=Object(t.useCallback)((()=>{if(null!=d&&d.length){var e;const n=(null==d?void 0:d.length)-(null!==(e=null==s?void 0:s.length)&&void 0!==e?e:0);n>0&&H.Analytics.sendClickedButtonEvent({buttonName:"nextButton",source:"teamifyMembershipsModal",attributes:{numMembers:n},containers:{organization:{id:r}}})}null==o||o(k.BOARD_VISIBILITY)}),[d,s,o,r]);return i.a.createElement("div",{className:Xn.container},i.a.createElement("h2",null,Ma("membership-title")),i.a.createElement("p",null,Ma("membership-body")),i.a.createElement("ul",{className:Xn.permissionsList},i.a.createElement("li",null,i.a.createElement("span",{className:Be()(Xn.permissionIcon,Xn.guests)},i.a.createElement(Jn.a,null)),Ma("membership-list1-guests")),i.a.createElement("li",null,i.a.createElement("span",{className:Be()(Xn.permissionIcon,Xn.members)},i.a.createElement(Yn.a,null)),Ma("membership-list2-guest-permissions")),i.a.createElement("li",null,i.a.createElement("span",{className:Be()(Xn.permissionIcon,Xn.private)},i.a.createElement(Zn.a,null)),Ma("membership-list3-private-boards")),i.a.createElement("li",null,i.a.createElement("span",{className:Be()(Xn.permissionIcon,Xn.aaua)},i.a.createElement(Fn.a,null)),Ma("membership-list4-admins"))),i.a.createElement("div",{className:Xn.tableWrapper},l?i.a.createElement(Re.a,{centered:!0}):i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,Ma("membership-board-members")),i.a.createElement("th",null,Ma("membership-permission-list")))),i.a.createElement("tbody",null,null==d?void 0:d.map((e=>i.a.createElement("tr",{key:e.id},i.a.createElement("td",null,i.a.createElement("div",{className:Xn.member},i.a.createElement("div",{className:Xn.memberAvatar},i.a.createElement(Un.a,{idMember:e.id,memberData:Ea({},e),size:32})),i.a.createElement("div",{className:Xn.memberDetails},i.a.createElement("div",{className:Xn.memberFullName},e.fullName," "),i.a.createElement("div",{className:Xn.memberUsername},"@",e.username)))),i.a.createElement("td",null,i.a.createElement(ja,{orgId:r,isPaidProduct:m,memberId:e.id,onError:()=>{p(Sa("something-went-wrong"))},onSuccess:()=>{p("")}})))))))),i.a.createElement("hr",null),""!==u&&i.a.createElement(yn,{type:"error"},u),i.a.createElement("p",{className:Xn.footerText},Ma("membership-footer")),i.a.createElement(fe.Button,{appearance:"primary",className:Xn.nextButton,onClick:b,isDisabled:l,testId:ye.MigrationWizardTestIds.TeamMembershipsNextButton},Ma("create-team-move-boards-next-button")))};var Da=a("./packages/nachos/icons/organization.tsx"),Fa=a("./packages/nachos/src/components/Button/index.ts"),Ia=a("./packages/nachos/icons/enterprise.tsx"),za=a("./packages/nachos/icons/public.tsx"),Pa=a("./packages/organizations/index.ts");function Ca(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Ta(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Ca(Object(a),!0).forEach((function(n){Aa(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ca(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function Aa(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const Wa={context:{operationName:"MigrationWizardBoardVisibilityChooserBoardVisibility"}},Va={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardBoardVisibilityChooserBoardVisibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visibility"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Board_Prefs_PermissionLevel"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardVisibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"visibility"},value:{kind:"Variable",name:{kind:"Name",value:"visibility"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};var Ra=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardVisibilityChooser.less"),La={insert:"head",singleton:!1},Ya=(je()(Ra.a,La),Ra.a.locals||{});const Ua=Object(he.forNamespace)(["migration wizard","board_menu_vis"]),Ja=Object(he.forNamespace)(["migration wizard","board perms"]),Za={private:{Icon:Zn.a,className:Be()(Ya.iconVis,Ya.iconPrivate)},public:{Icon:za.a,className:Be()(Ya.iconVis,Ya.iconPublic)},org:{Icon:Da.a,className:Ya.iconVis},enterprise:{Icon:Ia.a,className:Ya.iconVis}},Ka=({org:e,idBoard:n,permissionLevel:a,onError:o=(()=>{}),onSuccess:l=(()=>{})})=>{var d,c;const{popoverProps:m,toggle:u,hide:b,triggerRef:g}=Object(sa.e)(),[k,v]=Object(t.useState)(a),[f]=function(e){const n=Ta(Ta({},Wa),e);return s.useMutation(Va,n)}(),O=(null==e?void 0:e.idEnterprise)&&xa.ProductFeatures.isEnterpriseProduct(null===(d=e.products)||void 0===d?void 0:d[0])?["private","org","enterprise","public"]:["private","org","public"],h=(null==e||null===(c=e.premiumFeatures)||void 0===c?void 0:c.includes("superAdmins"))?"with super admins":"with organization";return i.a.createElement(i.a.Fragment,null,i.a.createElement(Fa.a,{iconAfter:i.a.createElement(ta.DownIcon,{dangerous_className:Ya.buttonIcon}),className:Ya.visibilityButton,shouldFitContainer:!0,onClick:()=>u(),ref:g},k&&Ja([k,"name"])),i.a.createElement(sa.b,m,i.a.createElement(la.a,{className:Ya.popoverMenu},O.map((a=>{var t;const{Icon:s,className:d}=Za[a],c=!Object(Pa.canSetVisibilityOnBoard)({org:{idEnterprise:e.idEnterprise,prefs:{boardVisibilityRestrict:null===(t=e.prefs)||void 0===t?void 0:t.boardVisibilityRestrict},products:e.products},boardVisibility:a,isOrgAdmin:!0});return i.a.createElement(la.b,{key:a,onClick:async()=>{try{await f({variables:{boardId:n,visibility:a}}),l(),v(a),b()}catch(n){var e,t,i;o(),Object(p.sendErrorEvent)(n,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{component:"MigrationWizardBoardVisibilityChooser",method:"onClick",errorCode:null!==(e=null==n||null===(t=n.networkError)||void 0===t||null===(i=t.extensions)||void 0===i?void 0:i.code)&&void 0!==e?e:"UNKNOWN_ERROR"}}),b()}},className:Be()(Ya.menuItem,c&&Ya.disabled),disabled:c},i.a.createElement(s,{size:"small",dangerous_className:Be()(d,c&&Ya.disabled)}),Ua(a),a===k&&i.a.createElement(aa.a,{size:"small",dangerous_className:Ya.checkmark,block:!0}),i.a.createElement("div",{className:Ya.subName},i.a.createElement("span",{key:a},Ua(["permission subtext",h,a],{orgName:i.a.createElement(i.a.Fragment,{key:"permission-subtext"},null==e?void 0:e.displayName)})),c&&i.a.createElement("span",{key:"error",className:Ya.error}," ".concat(Ua(["illegal visibility","create"])))))})))))};var Ha=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardVisibility.less"),Xa={insert:"head",singleton:!1},Ga=(je()(Ha.a,Xa),Ha.a.locals||{});const qa=["permissionLevel"];function Qa(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}const $a=Object(he.forNamespace)(["migration wizard"]),et=Object(he.forNamespace)(["alerts"]),nt=()=>{const[e,n]=Object(t.useState)(""),{boards:a,org:r,loading:o}=na(),{onNext:s}=Object(t.useContext)(be),l=Object(t.useCallback)((()=>{}),[s]);return i.a.createElement("div",{className:Ga.container},i.a.createElement("h2",null,$a("board-visibility-title")),i.a.createElement("p",null,$a("board-visibility-body")),i.a.createElement("ul",{className:Ga.visibilityList},i.a.createElement("li",null,i.a.createElement("span",{className:Be()(Ga.permissionIcon,Ga.stayPrivate)},i.a.createElement(Zn.a,null)),$a("board-visibility-list1-private")),i.a.createElement("li",null,i.a.createElement("span",{className:Be()(Ga.permissionIcon,Ga.private)},i.a.createElement(Yn.a,null)),$a("board-visibility-list2-private-members")),i.a.createElement("li",null,i.a.createElement("span",{className:Be()(Ga.permissionIcon,Ga.team)},i.a.createElement(Da.a,null)),$a("board-visibility-list3-workspace-2"))),i.a.createElement("div",{className:Ga.tableWrapper},o||!r?i.a.createElement(Re.a,{centered:!0}):i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,$a("board-visibility-boards-list")),i.a.createElement("th",null,$a("board-visibility-boards-vis")))),i.a.createElement("tbody",null,a.map(((e,a)=>{var t;const o=null!==(t=e.prefs)&&void 0!==t?t:{},{permissionLevel:s="private"}=o,l=Qa(o,qa);return i.a.createElement("tr",{key:e.id,"data-test-id":ye.MigrationWizardTestIds.BoardVisibilityItem},i.a.createElement("td",null,i.a.createElement("div",{role:"button",className:Ga.boardTile},i.a.createElement(vn,{boardId:e.id,boardName:e.name,background:l,tabIndex:-1}))),i.a.createElement("td",null,i.a.createElement(Ka,{idBoard:e.id,permissionLevel:s,org:r,onError:()=>{n(et("something-went-wrong"))},onSuccess:()=>{n("")}})))}))))),i.a.createElement("hr",null),""!==e&&i.a.createElement(yn,{type:"error"},e),i.a.createElement("p",{className:Ga.footerText},$a("board-visibility-footer")),i.a.createElement(Fa.a,{appearance:"primary",onKeyDown:l,className:Ga.button,onClick:()=>{null==s||s(k.DONE)},testId:ye.MigrationWizardTestIds.BoardVisibilityNextButton,isDisabled:o},$a("create-team-move-boards-next-button")))};var at=a("./packages/nachos/src/components/Textfield/index.ts"),tt=a("./app/src/components/TeamTypeSelect/index.ts"),it=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexCreateWorkspace.less"),rt={insert:"head",singleton:!1},ot=(je()(it.a,rt),it.a.locals||{});function st(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function lt(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?st(Object(a),!0).forEach((function(n){dt(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):st(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function dt(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const ct={context:{operationName:"MigrationWizardComplexCreateWorkspace"}},mt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardComplexCreateWorkspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"teamType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"teamType"},value:{kind:"Variable",name:{kind:"Name",value:"teamType"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"default",block:!1}},{kind:"Argument",name:{kind:"Name",value:"creationMethod"},value:{kind:"StringValue",value:"teamify-wizard",block:!1}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"idBoards"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"}},{kind:"Field",name:{kind:"Name",value:"public"}},{kind:"Field",name:{kind:"Name",value:"org"}},{kind:"Field",name:{kind:"Name",value:"enterprise"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"limits"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orgs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeBoardsPerOrg"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableAt"}}]}}]}}]}}]}}]}}]};function ut(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function pt(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?ut(Object(a),!0).forEach((function(n){bt(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ut(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function bt(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const gt=Object(he.forNamespace)(["migration wizard"]),kt=Object(he.forNamespace)(["error handling","organization"]),vt=({onCreateWorkspace:e})=>{const[n,a]=Object(t.useState)(""),[o,l]=Object(t.useState)(!1),[d,c]=Object(t.useState)(""),[m,u]=Object(t.useState)(),[b]=function(e){const n=lt(lt({},ct),e);return s.useMutation(mt,n)}(),{experience:g}=Object(t.useContext)(be);return i.a.createElement("div",{className:ot.createWorkspace},i.a.createElement("div",{className:ot.workspaceName},i.a.createElement(at.a,{label:gt("popover-workspace-name"),className:ot.control,autoFocus:!0,value:d,onChange:e=>{c(e.target.value)}})),i.a.createElement("div",{className:ot.workspaceType},i.a.createElement(tt.TeamTypeSelect,{label:gt("popover-workspace-type"),onChange:e=>{u(e)}})),i.a.createElement(fe.Button,{shouldFitContainer:!0,appearance:"primary",isDisabled:!d||!m,isLoading:o,onClick:async()=>{const n=d.trim();if(n.length>100)return void a(kt("ORG_DISPLAY_NAME_LONG"));const t="create-organization/migrationWizard",i=C[g===v.Post?k.POST_MIGRATION:k.COMPLEX_MOVE_BOARDS],o=H.Analytics.startTask({taskName:t,source:i});try{l(!0);const{data:a}=await b({variables:{name:n,teamType:null!=m?m:Pa.TeamTypes.Other,traceId:o}});if(null!=a&&a.createOrganization){var s,c,u,f,O;const n=pt(pt({},null==a?void 0:a.createOrganization),{},{numberOfFreeBoardsAvailable:null!==(s=null==a||null===(c=a.createOrganization)||void 0===c||null===(u=c.limits)||void 0===u||null===(f=u.orgs)||void 0===f||null===(O=f.freeBoardsPerOrg)||void 0===O?void 0:O.disableAt)&&void 0!==s?s:10,isPremiumWorkspace:!1,isAdmin:!!T.memberId&&Object(Pa.isMemberAdmin)({id:T.memberId,memberType:"normal"},null==a?void 0:a.createOrganization)});H.Analytics.taskSucceeded({taskName:t,traceId:o,source:i}),e(n)}}catch(e){H.Analytics.taskFailed({taskName:t,traceId:o,source:i,error:e});const n=Object(Le.c)(e);switch(null==n?void 0:n.code){case"ORG_DISPLAY_NAME_SHORT":a(Object(he.localizeErrorCode)("organization","ORG_DISPLAY_NAME_SHORT"));break;default:a(Object(he.localizeErrorCode)("organization","UNKNOWN_ERROR")),Object(p.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:n})}}finally{l(!1)}}},gt("popover-button-and-title")),n&&i.a.createElement(yn,{type:"error"},n))};var ft=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexMoveBoardsWorkspaceChooser.less"),Ot={insert:"head",singleton:!1},ht=(je()(ft.a,Ot),ft.a.locals||{});function yt(){return(yt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}const Nt=Object(he.forNamespace)(["migration wizard"]);var jt;!function(e){e[e.ChooseWorkspace=0]="ChooseWorkspace",e[e.CreateWorkspace=1]="CreateWorkspace"}(jt||(jt={}));const xt=({onSelectWorkspace:e,loading:n,workspaces:a})=>{const{popoverProps:r,toggle:o,hide:s,push:l,triggerRef:d}=Object(sa.e)({initialScreen:jt.ChooseWorkspace}),[c,m]=Object(t.useState)({id:"",displayName:Nt("start-migration-workspace-dropdown")}),u=n=>{m({id:n.id,displayName:n.displayName}),null==e||e(n.id),s()};return i.a.createElement(i.a.Fragment,null,i.a.createElement(fe.Button,{iconAfter:i.a.createElement(ta.DownIcon,null),className:ht.workspaceListButton,onClick:()=>o(),isDisabled:n,ref:d,testId:ye.MigrationWizardTestIds.WorkspaceChooserButton},n?i.a.createElement(Re.a,{small:!0}):c.displayName),i.a.createElement(sa.b,yt({},r,{hasBackButton:!0}),i.a.createElement(sa.d,{id:jt.ChooseWorkspace,noHorizontalPadding:!0},i.a.createElement("div",{className:ht.workspacePopover},i.a.createElement(la.a,null,a.map((e=>i.a.createElement(la.b,{key:e.id,title:e.displayName,disabled:0===e.numberOfFreeBoardsAvailable,description:null!==e.numberOfFreeBoardsAvailable&&e.numberOfFreeBoardsAvailable<=7?Object(he.localizeCount)("free-boards-remaining",e.numberOfFreeBoardsAvailable):null,onClick:()=>{u(e)},className:Be()(ht.workspaceOption,{[ht.selected]:c.id===e.id}),testId:ye.MigrationWizardTestIds.WorkspaceOption}))),i.a.createElement(la.b,{title:Nt("popover-menu-title"),onClick:()=>l(jt.CreateWorkspace)})))),i.a.createElement(sa.d,{id:jt.CreateWorkspace,title:Nt("popover-button-and-title")},i.a.createElement(vt,{onCreateWorkspace:e=>{u(e)}}))))};function _t(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Et(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?_t(Object(a),!0).forEach((function(n){wt(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_t(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function wt(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const St={context:{operationName:"UseAvailableWorkspaces"}},Mt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UseAvailableWorkspaces"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"memberType"}},{kind:"Field",name:{kind:"Name",value:"organizations"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"}},{kind:"Field",name:{kind:"Name",value:"public"}},{kind:"Field",name:{kind:"Name",value:"org"}},{kind:"Field",name:{kind:"Name",value:"enterprise"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"limits"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orgs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeBoardsPerOrg"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableAt"}},{kind:"Field",name:{kind:"Name",value:"count"}}]}}]}}]}}]}}]}}]}}]};function Bt(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Dt(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Bt(Object(a),!0).forEach((function(n){Ft(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Bt(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function Ft(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const It=()=>{const{dialogProps:e,experience:n,teamify:a}=Object(t.useContext)(be),{data:i,loading:o,error:l,refetch:d}=function(e){const n=Et(Et({},St),e);return s.useQuery(Mt,n)}();return Object(t.useEffect)((()=>{l&&Object(p.sendErrorEvent)(l,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{hook:"useAvailableWorkspaces"}})}),[l]),Object(t.useEffect)((()=>{e.isOpen&&d()}),[e.isOpen,d]),Object(t.useMemo)((()=>{var e,t;const r=null==i?void 0:i.member,s=(null!==(e=null==i||null===(t=i.member)||void 0===t?void 0:t.organizations)&&void 0!==e?e:[]).map((e=>{var n,a,t,i,o,s,l,d,c;const m=xa.ProductFeatures.hasProduct(null===(n=e.products)||void 0===n?void 0:n[0]),u=null!==(a=null==e||null===(t=e.limits)||void 0===t||null===(i=t.orgs)||void 0===i||null===(o=i.freeBoardsPerOrg)||void 0===o?void 0:o.count)&&void 0!==a?a:0,p=(null!==(s=null==e||null===(l=e.limits)||void 0===l||null===(d=l.orgs)||void 0===d||null===(c=d.freeBoardsPerOrg)||void 0===c?void 0:c.disableAt)&&void 0!==s?s:10)-u,b=p>0&&p<10?p:null;return Dt(Dt({},e),{},{isAdmin:!!r&&Object(Pa.isMemberAdmin)(r,e),numberOfFreeBoardsAvailable:m?Number.POSITIVE_INFINITY:b,isPremiumWorkspace:m})})).filter((e=>n!==v.Post||e.id!==(null==a?void 0:a.idOrgCreated)&&e.id!==(null==a?void 0:a.idOrgSelected))).sort(((e,n)=>e.displayName.localeCompare(n.displayName)));return{loading:o,error:l,workspaces:s,refetch:d}}),[o,l,i,a,n,d])};var zt=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMoveBoards.less"),Pt={insert:"head",singleton:!1},Ct=(je()(zt.a,Pt),zt.a.locals||{}),Tt=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardsList.less"),At={insert:"head",singleton:!1},Wt=(je()(Tt.a,At),Tt.a.locals||{});const Vt=Object(he.forNamespace)(["migration wizard"]),Rt=({loadingBoards:e,boards:n,workspace:a,selectedBoards:r,updateBoards:o,isMovingBoards:s})=>{const l=Object(t.useCallback)((e=>a&&e&&Object(Pa.canAddBoardToOrganization)({org:a,board:e,isOrgAdmin:a.isAdmin})),[a]),{setRefAtIndex:d,onKeyboardNavigationBoardList:c,setActiveElementIndex:m}=En(),u=Object(t.useMemo)((()=>a?n.filter((e=>!l(e))).map((e=>e.id)):[]),[a,n,l]),p=Math.min(n.length,null===(null==a?void 0:a.numberOfFreeBoardsAvailable)?10:null==a?void 0:a.numberOfFreeBoardsAvailable),b=Math.min(p,n.length-u.length),g=r.length>0&&r.length===b,k=r.length>=p;return Object(t.useEffect)((()=>{a&&(r.length>=p?o({type:"all",idBoards:[...r].filter((e=>!u.includes(e))).slice(0,p)}):o({type:"all",idBoards:[...r].filter((e=>!u.includes(e)))}))}),[r.length,p,o,a]),i.a.createElement("div",null,Boolean(u.length)&&i.a.createElement(yn,{type:"alert"},Vt("complex-move-boards-alert-cannot-add-boards")," ",i.a.createElement("a",{href:"https://help.trello.com/article/710-setting-up-your-business-class-team#Visibility-and-control"},Vt("post-migration-banner-learn-more"))),i.a.createElement("div",{className:Wt.boardsContainer},i.a.createElement("h3",null,a&&!a.isPremiumWorkspace?Vt("start-migration-selection-prompt-free",{selectedBoards:r.length,remainingBoards:b}):Vt("start-migration-selection-prompt",{selectedBoards:r.length}),!!a&&0!==a.numberOfFreeBoardsAvailable&&i.a.createElement(fe.Button,{appearance:"subtle-link",className:Wt.selectionButton,onClick:()=>{a&&(a.isPremiumWorkspace?r.length===b?o({type:"clear"}):o({type:"all",idBoards:[...n].filter((({id:e})=>!u.includes(e))).map((({id:e})=>e))}):r.length===p?o({type:"clear"}):o({type:"all",idBoards:[...n].filter((({id:e})=>!u.includes(e))).map((({id:e})=>e)).slice(0,p)}))},isDisabled:s,testId:ye.MigrationWizardTestIds.SelectAllButton},g?Vt("start-migration-selection-unselect-all",{count:r.length}):Vt("start-migration-selection-none-or-some-selected"))),e?i.a.createElement(Bn.a,{centered:!0}):i.a.createElement("div",{className:Wt.boards},n.map(((e,t)=>{const l=r.includes(e.id),p=u.includes(e.id),{id:b,name:g,prefs:v}=e,{backgroundTopColor:f="",backgroundImage:O="",backgroundImageScaled:h=[],backgroundTile:y=!1}=null!=v?v:{},N=!a||p||!l&&k;let j="";return k&&!l?j=Vt("reached-max-number-of-open-boards"):p&&(j=Vt("create-team-move-boards-restricted-board-2")),i.a.createElement("div",{role:"radio",key:b,className:Wt.boardTile,"aria-checked":l,onFocus:()=>m(t),onKeyDown:c(l,e,n,N)},i.a.createElement(vn,{boardId:b,boardName:g,background:{backgroundTopColor:f,backgroundImage:O,backgroundImageScaled:h,backgroundTile:y},onClick:s?void 0:()=>{o({type:l?"remove":"add",idBoard:b})},isSelected:l,isDisabled:N,title:j,testId:ye.MigrationWizardTestIds.BoardTile,tabIndex:0,setRef:d(t)}))})))))};var Lt=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDone.less"),Yt={insert:"head",singleton:!1},Ut=(je()(Lt.a,Yt),Lt.a.locals||{}),Jt=a("./app/scripts/controller/navigate.js");const Zt=Object(he.forNamespace)(["migration wizard"]),Kt=({isComplexPath:e})=>{const{hideWizard:n,orgId:r,checkEligibilityOnClose:o,dismissBanner:s,hasDismissedPostMigrationBanner:l}=Object(t.useContext)(be);return Object(t.useEffect)((()=>{o(),e&&!l&&s()}),[o,s,e,l]),i.a.createElement("div",{className:Ut.container},i.a.createElement("img",{src:a("./resources/images/migration-wizard/simple-path-done.svg"),alt:"",role:"presentation"}),i.a.createElement("h1",null,Zt("done-screen-title")),i.a.createElement("p",null,Zt("done-screen-body")),i.a.createElement(fe.Button,{appearance:"primary",size:"wide",onClick:()=>{n(),e||Object(Jt.navigate)("/".concat(r),{trigger:!0})},testId:ye.MigrationWizardTestIds.DoneComponentDoneButton},Zt("done-screen-button")))},Ht=Object(he.forNamespace)(["migration wizard"],{shouldEscapeStrings:!1}),Xt=()=>{const[e,n]=Object(t.useState)(!1),[a,o]=Object(t.useState)(""),[s]=$e(),[l]=on(),{workspaces:d,loading:c,refetch:m}=It(),{loading:u}=b(),{selectedBoards:g,updateBoards:f,experience:O,teamify:h,setOrgId:y,orgId:N,refetchMigrationWizardQuery:j,teamlessBoards:x}=Object(t.useContext)(be),{migratedBoards:_,migrationOrg:E,loading:w,refetch:S}=Y({skip:O===v.Advanced,idOrg:(null==h?void 0:h.idOrgCreated)||(null==h?void 0:h.idOrgSelected)||""}),M=w||u,B=O===v.Post?_:x,D=Object(t.useMemo)((()=>d.find((e=>e.id===N))),[d,N]),F=!D||0===g.length||e,I=e=>{const n=Object(Le.c)(e);switch(null==n?void 0:n.code){case"FREE_BOARD_LIMIT_REACHED":o(Object(he.localizeErrorCode)("board","FREE_BOARD_LIMIT_REACHED"));break;default:o(Object(he.localizeErrorCode)("organization","UNKNOWN_ERROR")),Object(p.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:n})}},z=Object(t.useCallback)((()=>{n(!1),f({type:"clear"}),j(),m(),O===v.Post&&S()}),[n,f,j,S,O,m]),P=Object(t.useCallback)((async()=>{if(F)return;o(""),n(!0);const e="edit-board/idOrganization/migrationWizard",a=C[O===v.Post?k.POST_MIGRATION:k.COMPLEX_MOVE_BOARDS];for(const n of g){const t=H.Analytics.startTask({taskName:e,source:a});try{await s({variables:{boardId:n,orgId:D.id,traceId:t}}),f({type:"remove",idBoard:n}),H.Analytics.sendUpdatedBoardFieldEvent({field:"organization",value:D.id,source:a,containers:{board:{id:n},organization:{id:D.id}},attributes:O===v.Post?{previous:E.id}:void 0}),H.Analytics.taskSucceeded({taskName:e,traceId:t,source:a})}catch(n){H.Analytics.taskFailed({taskName:e,traceId:t,source:a,error:n}),I(n)}}z()}),[O,E.id,z,g,D,s,f,F]);return Object(t.useEffect)((()=>{(async()=>{try{O!==v.Pre||null!=h&&h.voluntaryDone||await l({variables:{memberId:"me"}})}catch(e){const n=Object(Le.c)(e);Object(p.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:r.Feature.MigrationWizard},extraData:{file:"MigrationWizardComplexMoveBoards"},networkError:n})}})()}),[l,h,O]),e||0!==B.length?i.a.createElement("div",{className:Ct.container},i.a.createElement("div",null,i.a.createElement("h2",null,Ht("post-migration-modal-title")),i.a.createElement("p",null,Ht("post-migration-modal-body")),i.a.createElement("hr",null),i.a.createElement("div",{className:Ct.movePrompt},O===v.Post?Ht("post-migration-workspace-old-workspace",{workspaceName:E.displayName}):Ht("create-team-move-boards-add-boards-prompt"))),i.a.createElement(xt,{onSelectWorkspace:e=>{y(e),o("")},loading:c,workspaces:d}),i.a.createElement(Rt,{boards:B,loadingBoards:M,workspace:D,selectedBoards:g,updateBoards:f,isMovingBoards:e}),i.a.createElement("hr",{className:Ct.separator}),D&&i.a.createElement("p",{className:Ct.note},Ht("start-migration-footer")),a&&i.a.createElement(yn,{type:"error"},a),i.a.createElement(fe.Button,{appearance:"primary",className:Ct.doneButton,isDisabled:F,onClick:P,testId:ye.MigrationWizardTestIds.MoveBoardsButton},e?i.a.createElement(Bn.a,{small:!0}):Ht("start-migration-add-button"))):i.a.createElement(Kt,{isComplexPath:!0})},Gt={[k.INTRO]:{key:k.INTRO,ScreenComponent:i.a.createElement(Ve,null)},[k.MOVE_YOUR_BOARDS]:{key:k.MOVE_YOUR_BOARDS,ScreenComponent:i.a.createElement(Mn,null),isCloseable:!0},[k.BC_FOR_FREE]:{key:k.BC_FOR_FREE,ScreenComponent:i.a.createElement(Ln,null),isBackAvailable:!0},[k.MEMBERSHIPS]:{key:k.MEMBERSHIPS,ScreenComponent:i.a.createElement(Ba,null)},[k.BOARD_VISIBILITY]:{key:k.BOARD_VISIBILITY,ScreenComponent:i.a.createElement(nt,null)},[k.COMPLEX_MOVE_BOARDS]:{key:k.COMPLEX_MOVE_BOARDS,ScreenComponent:i.a.createElement(Xt,null),isCloseable:!0},[k.POST_MIGRATION]:{key:k.POST_MIGRATION,ScreenComponent:i.a.createElement(Xt,null),isCloseable:!0},[k.DONE]:{key:k.DONE,ScreenComponent:i.a.createElement(Kt,null),isCloseable:!1}},qt=()=>{const{currentStep:e,onBack:n,hideWizard:a}=Object(t.useContext)(be),{ScreenComponent:r,isCloseable:o,isBackAvailable:s}=Gt[e];return i.a.createElement("div",{className:Pe.wizard,"data-test-id":ye.MigrationWizardTestIds.Wizard},r,o&&i.a.createElement("button",{className:Be()(Pe.iconButton,Pe.close),onClick:a},i.a.createElement(Fe.a,null)),s&&i.a.createElement("button",{className:Be()(Pe.iconButton,Pe.back),onClick:n},i.a.createElement(De.a,null)))};var Qt=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardPostMigrationBanner.less"),$t={insert:"head",singleton:!1},ei=(je()(Qt.a,$t),Qt.a.locals||{});function ni(){return(ni=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}const ai=Object(he.forNamespace)(["migration wizard"],{shouldEscapeStrings:!1}),ti=()=>{const{dismissBanner:e,dialogProps:n,teamify:a}=Object(t.useContext)(be),{migrationOrg:r,loading:o}=Y({idOrg:(null==a?void 0:a.idOrgCreated)||(null==a?void 0:a.idOrgSelected)||""}),[s,l]=Object(t.useState)(!1),d=r.displayName,c=!s&&!o&&d;return Object(t.useEffect)((()=>{c&&H.Analytics.sendViewedBannerEvent({bannerName:"teamifyBanner",source:Object(H.getScreenFromUrl)(),attributes:{forcedMigration:"post"}})}),[c]),c?i.a.createElement("div",{className:ei.bannerWrapper},i.a.createElement(Oe.a,{inlinePadding:!0,textClassName:ei.banner},i.a.createElement("span",{className:ei.text},ai("post-migration-banner-content",{workspaceName:d}),i.a.createElement(fe.Button,{appearance:"subtle-link",className:ei.selectionButton,onClick:()=>{window.open("https://help.trello.com/article/1263-moving-to-workspaces","_blank")}},ai("post-migration-banner-learn-more"))),i.a.createElement("div",{className:ei.rightAligned},i.a.createElement(fe.Button,{appearance:"primary",className:ei.button,onClick:()=>n.show(),testId:ye.MigrationWizardTestIds.StartButton},ai("post-migration-banner-make-changes")),i.a.createElement(fe.Button,{className:Be()(ei.button,ei.dismissButton),onClick:()=>{l(!0),e()},testId:ye.MigrationWizardTestIds.DismissButton},ai("post-migration-banner-dismiss")))),i.a.createElement(g.a,ni({},n,{className:ei.dialog,closeOnEscape:!1,closeOnOutsideClick:!1}),i.a.createElement(qt,null))):null};var ii=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardPreMigrationBanner.less"),ri={insert:"head",singleton:!1},oi=(je()(ii.a,ri),ii.a.locals||{});function si(){return(si=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}const li=Object(he.forNamespace)(["migration wizard"]),di=()=>{const{dialogProps:e,teamify:n}=Object(t.useContext)(be);Object(t.useEffect)((()=>{H.Analytics.sendViewedBannerEvent({bannerName:"teamifyBanner",source:Object(H.getScreenFromUrl)(),attributes:{forcedMigration:"pre"}})}),[]);const a=!(null==n||!n.autoMigration)&&ve()(null==n?void 0:n.autoMigration).format("MMMM Do");return i.a.createElement("div",{"data-test-id":ye.MigrationWizardTestIds.PreMigrationBanner,className:oi.bannerWrapper},i.a.createElement(Oe.a,{inlinePadding:!0,textClassName:oi.banner},i.a.createElement("span",{className:oi.text},a?li("pre-migration-banner-with-date",{migrationDate:a}):li("pre-migration-banner-without-date")),i.a.createElement(fe.Button,{appearance:"primary",className:oi.button,onClick:()=>{e.show()},testId:ye.MigrationWizardTestIds.StartButton},li("pre-migration-banner-button"))),i.a.createElement(g.a,si({},e,{className:oi.dialog,closeOnEscape:!1,closeOnOutsideClick:!1}),i.a.createElement(qt,null)))},ci=()=>{const{experience:e}=Object(t.useContext)(be);let n;switch(e){case v.Desktop:n=i.a.createElement(Se,null);break;case v.Post:n=i.a.createElement(ti,null);break;case v.Advanced:case v.Pre:n=i.a.createElement(di,null);break;default:n=null}return n},mi=()=>i.a.createElement(ge,null,i.a.createElement(ci,null))},"./app/src/components/PopoverMenu/index.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return j})),a.d(n,"b",(function(){return N})),a.d(n,"c",(function(){return y}));var t=a("./node_modules/classnames/index.js"),i=a.n(t),r=a("./app/src/forwardRefComponent.ts"),o=a("./app/src/components/RouterLink/RouterLink.tsx"),s=a("./node_modules/react/index.js"),l=a.n(s),d=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),c=a.n(d),m=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverMenu/PopoverMenu.less"),u={insert:"head",singleton:!1},p=(c()(m.a,u),m.a.locals||{}),b=a("./packages/a11y/index.ts");const g=["appendSeparator","testId","href","target","className","onClick"],k=["appendSeparator","onClick","className","disabled","testId"];function v(){return(v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}function f(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}const O=({children:e,description:n,rawDescription:a,title:t,icon:r})=>l.a.createElement(l.a.Fragment,null,r&&l.a.cloneElement(r,{size:"small"}),l.a.createElement("span",{className:i()(p.title,n&&p.withoutMargins)},t||e),(n||a)&&l.a.createElement("p",{className:p.description},n||a)),h=({appendSeparator:e,children:n})=>l.a.createElement("li",{className:i()(p.item,e&&p.withSeparator)},n),y=e=>{let{appendSeparator:n,testId:a,href:t,target:r,className:s,onClick:d}=e,c=f(e,g);const[m,u]=Object(b.useFocusRing)();return l.a.createElement(h,{appendSeparator:n},l.a.createElement(o.b,v({className:i()(p.link,s,m&&p.linkFocusRing),href:t,testId:a,onClick:d,target:r},u),l.a.createElement(O,c)))},N=Object(r.a)("PopoverMenuButton",((e,n)=>{let{appendSeparator:a,onClick:t,className:r,disabled:o,testId:s}=e,d=f(e,k);const[c,m]=Object(b.useFocusRing)();return l.a.createElement(h,{appendSeparator:a},l.a.createElement("button",v({className:i()(p.link,c&&p.linkFocusRing,r),disabled:o,onClick:t,"data-test-id":s,ref:n},m),l.a.createElement(O,d)))})),j=({className:e,children:n,testId:a})=>l.a.createElement("nav",{className:e},l.a.createElement("ul",{"data-test-id":a},n))},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardVisibility.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._20ToTHyl4B9a4i {\n  text-align: center;\n  padding: 32px 0 16px 0;\n}\n._20ToTHyl4B9a4i h2 {\n  color: #172B4D;\n  font-size: 24px;\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  line-height: 28px;\n  margin-top: 40px;\n  font-weight: 500;\n  margin: 0 0 8px 0;\n}\n._20ToTHyl4B9a4i p {\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 24px;\n}\n._20ToTHyl4B9a4i p._2wYA_JBZoTv666 {\n  color: #5E6C84;\n  margin-bottom: 8px;\n}\n._20ToTHyl4B9a4i hr {\n  margin-top: 0;\n  background-color: #EBECF0;\n}\n._20ToTHyl4B9a4i table,\n._20ToTHyl4B9a4i thead,\n._20ToTHyl4B9a4i tbody,\n._20ToTHyl4B9a4i th,\n._20ToTHyl4B9a4i tr,\n._20ToTHyl4B9a4i td {\n  background: none;\n  border: none;\n  text-align: left;\n  padding: 0;\n}\nul._1mdDDHqKA9cXhk {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 24px;\n}\nul._1mdDDHqKA9cXhk li {\n  display: flex;\n  width: 344px;\n  align-items: center;\n  text-align: left;\n  margin-bottom: 8px;\n  font-size: 12px;\n  line-height: 16px;\n}\nul._1mdDDHqKA9cXhk li ._2mbdsNJhP6zag6 {\n  display: flex;\n  width: 24px;\n  height: 24px;\n  flex: 0 0 24px;\n  align-items: center;\n  justify-content: center;\n  background: rgba(9, 30, 66, 0.04);\n  border-radius: 3px;\n  margin-right: 8px;\n}\nul._1mdDDHqKA9cXhk li ._2mbdsNJhP6zag6._21TeHw14vwvHFR svg {\n  color: #E79217;\n}\nul._1mdDDHqKA9cXhk li ._2mbdsNJhP6zag6._1No_4M4BbztYfs svg {\n  color: #CF513D;\n}\nul._1mdDDHqKA9cXhk li ._2mbdsNJhP6zag6._2MsJpFIq9m0ctx svg {\n  color: #026AA7;\n}\n._1AwT4ExUdxCNpO {\n  overflow-x: hidden;\n  overflow-y: auto;\n  max-height: 240px;\n  padding-right: 16px;\n  margin-right: -16px;\n  max-height: 320px;\n}\n._1AwT4ExUdxCNpO table {\n  border-collapse: separate;\n  border-spacing: 0;\n}\n._1AwT4ExUdxCNpO table thead th {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-top: 16px;\n  position: -webkit-sticky;\n  position: sticky;\n  /* stylelint-disable-line */\n  top: 0;\n  padding-bottom: 8px;\n  background-color: #F4F5F7;\n  z-index: 1;\n  border-bottom: 1px solid #EBECF0;\n}\n._1AwT4ExUdxCNpO table tbody td {\n  padding: 0;\n  vertical-align: middle;\n}\n._1AwT4ExUdxCNpO table tbody td:first-child {\n  width: 100%;\n}\n._1AwT4ExUdxCNpO table tbody tr:first-of-type td {\n  padding-top: 4px;\n}\n.SZ1D6P5kPQLG8D {\n  padding-right: 8px;\n}\n._1zHXmhGE1laU3o {\n  padding-left: 56px;\n  padding-right: 56px;\n  margin-bottom: 0;\n}\n",""]),i.locals={container:"_20ToTHyl4B9a4i",footerText:"_2wYA_JBZoTv666",visibilityList:"_1mdDDHqKA9cXhk",permissionIcon:"_2mbdsNJhP6zag6",stayPrivate:"_21TeHw14vwvHFR",private:"_1No_4M4BbztYfs",team:"_2MsJpFIq9m0ctx",tableWrapper:"_1AwT4ExUdxCNpO",boardTile:"SZ1D6P5kPQLG8D",button:"_1zHXmhGE1laU3o"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardVisibilityChooser.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3qxuy4JrWbWFcB {\n  margin: 0;\n  min-width: 96px;\n  width: 172px;\n  justify-content: space-between;\n}\n._3qxuy4JrWbWFcB ._3Z6k0eEMpAG9Rg {\n  width: 20px;\n  height: 20px;\n  margin-left: 8px;\n}\n._2iZdT_JkCK6M3H:hover[disabled] ._2dCkdQ4Va5hhWj,\n._2iZdT_JkCK6M3H:active[disabled] ._2dCkdQ4Va5hhWj,\n._2iZdT_JkCK6M3H:hover[disabled] ._1_TMwQZ810b3EV,\n._2iZdT_JkCK6M3H:active[disabled] ._1_TMwQZ810b3EV,\n._2iZdT_JkCK6M3H:hover[disabled] .dFGKssw7PteVSl,\n._2iZdT_JkCK6M3H:active[disabled] .dFGKssw7PteVSl {\n  color: #6B778C !important;\n}\n._2dCkdQ4Va5hhWj {\n  margin-left: 8px;\n}\n._1QrDKsRRiltn7k {\n  margin: 0 -12px;\n}\n.dFGKssw7PteVSl {\n  margin-right: 8px;\n}\n._2kkAtGHeSOYbGH,\n.FwdLSlvqRddowT {\n  color: #EB5A46;\n}\n._1Iaka91nBKRZKE {\n  color: #5AAC44;\n}\n._1_TMwQZ810b3EV {\n  color: #6B778C;\n  font-size: 12px;\n  font-weight: normal;\n  line-height: 16px;\n  margin-top: 4px;\n}\n._293fEXEyU4kPfO {\n  color: #6B778C;\n}\n",""]),i.locals={visibilityButton:"_3qxuy4JrWbWFcB",buttonIcon:"_3Z6k0eEMpAG9Rg",menuItem:"_2iZdT_JkCK6M3H",checkmark:"_2dCkdQ4Va5hhWj",subName:"_1_TMwQZ810b3EV",iconVis:"dFGKssw7PteVSl",popoverMenu:"_1QrDKsRRiltn7k",iconPrivate:"_2kkAtGHeSOYbGH",error:"FwdLSlvqRddowT",iconPublic:"_1Iaka91nBKRZKE",disabled:"_293fEXEyU4kPfO"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardsList.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,".xEHnFewEo3hoUK {\n  margin-top: 24px;\n}\n._3WxZku_t9zgxHZ {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  max-height: 240px;\n  padding-right: 16px;\n  margin-right: -16px;\n  max-height: 248px;\n}\n._3WxZku_t9zgxHZ ._338v9dlm_TpV9B {\n  width: 50%;\n  box-sizing: border-box;\n}\n._3WxZku_t9zgxHZ ._338v9dlm_TpV9B:nth-child(odd) {\n  padding-right: 4px;\n}\n._3WxZku_t9zgxHZ ._338v9dlm_TpV9B:nth-child(even) {\n  padding-left: 4px;\n}\n._3FjWvfWZ16wT_X {\n  font-size: 12px;\n  line-height: 16px;\n  padding: 0;\n  margin: 0 0 0 16px;\n}\n",""]),i.locals={boardsContainer:"xEHnFewEo3hoUK",boards:"_3WxZku_t9zgxHZ",boardTile:"_338v9dlm_TpV9B",selectionButton:"_3FjWvfWZ16wT_X"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBusinessClass.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,".ABdmgtAl6VMRfj {\n  text-align: center;\n  padding: 24px 0 16px 0;\n}\n.ABdmgtAl6VMRfj ._3qmHISxRm04k24 {\n  margin-bottom: 16px;\n}\n.ABdmgtAl6VMRfj h2 {\n  color: #172B4D;\n  font-size: 24px;\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  line-height: 28px;\n  margin-top: 40px;\n  font-weight: 500;\n  margin: 0 0 8px 0;\n}\n.ABdmgtAl6VMRfj h3 {\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n  margin: 0 0 16px 0;\n}\n.ABdmgtAl6VMRfj p {\n  font-size: 14px;\n  line-height: 20px;\n  margin: 0 0 16px 0;\n}\n.ABdmgtAl6VMRfj hr {\n  background-color: #EBECF0;\n}\nul._2RQwunnm51nWbs {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\nul._2RQwunnm51nWbs li {\n  display: flex;\n  width: 304px;\n  align-items: center;\n  text-align: left;\n  margin-bottom: 8px;\n  font-size: 12px;\n  line-height: 16px;\n}\nul._2RQwunnm51nWbs li ._3sU9K3d6kegIMg {\n  display: flex;\n  width: 24px;\n  height: 24px;\n  flex: 0 0 24px;\n  align-items: center;\n  justify-content: center;\n  background: #F7F0FA;\n  border-radius: 3px;\n  margin-right: 8px;\n}\nul._2RQwunnm51nWbs li ._3sU9K3d6kegIMg svg {\n  color: #6C547B;\n}\n._11koRzfsCStEAY {\n  padding-left: 56px;\n  padding-right: 56px;\n  margin-bottom: 16px;\n}\np._2WnwHr9D_EbdIc {\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n  margin: 0;\n}\n",""]),i.locals={container:"ABdmgtAl6VMRfj",sparkle:"_3qmHISxRm04k24",featureList:"_2RQwunnm51nWbs",featureIcon:"_3sU9K3d6kegIMg",button:"_11koRzfsCStEAY",disclaimer:"_2WnwHr9D_EbdIc"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexCreateWorkspace.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3ROPcLMxhMkK7n label {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-top: 20px;\n  text-transform: uppercase;\n  margin: 0 0 4px 0;\n}\n._3pGO5rxUjNTEhQ {\n  margin-bottom: 8px;\n}\n._1iMlhdzRIgxKiQ {\n  margin-bottom: 16px;\n}\n",""]),i.locals={createWorkspace:"_3ROPcLMxhMkK7n",workspaceName:"_3pGO5rxUjNTEhQ",workspaceType:"_1iMlhdzRIgxKiQ"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexMoveBoardsWorkspaceChooser.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._1ywruFoq_yToSl {\n  width: 100%;\n  margin-bottom: 8px;\n  justify-content: space-between;\n}\n._24NJ0COzxv618j {\n  overflow-x: hidden;\n  overflow-y: auto;\n  max-height: 240px;\n  padding-right: 16px;\n  margin-right: -16px;\n  width: 536px;\n}\n._21v4WyrYPf78XR {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 300px;\n}\n._21v4WyrYPf78XR[disabled],\n._21v4WyrYPf78XR[disabled] p {\n  background: transparent;\n  color: #A5ADBA;\n}\n._21v4WyrYPf78XR[disabled] a {\n  background: transparent;\n  color: #5E6C84;\n}\n._21v4WyrYPf78XR._2AWoKGX-vyWJlY {\n  background-color: rgba(9, 30, 66, 0.08);\n}\n",""]),i.locals={workspaceListButton:"_1ywruFoq_yToSl",workspacePopover:"_24NJ0COzxv618j",workspaceOption:"_21v4WyrYPf78XR",selected:"_2AWoKGX-vyWJlY"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardCreateTeamMoveBoards.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,".e4oQ80hhwskgm0 {\n  padding: 32px 0 16px 0;\n}\n.e4oQ80hhwskgm0 h2 {\n  color: #172B4D;\n  font-size: 24px;\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  line-height: 28px;\n  margin-top: 40px;\n  text-align: center;\n  font-weight: 500;\n  margin: 0 0 8px 0;\n}\n.e4oQ80hhwskgm0 p {\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 24px;\n}\n.e4oQ80hhwskgm0 hr {\n  background-color: #EBECF0;\n}\n.e4oQ80hhwskgm0 label {\n  color: #172B4D;\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  line-height: 20px;\n  margin-top: 24px;\n  color: #5E6C84;\n  margin: 0 0 8px 0;\n}\n.e4oQ80hhwskgm0 input {\n  color: #172B4D;\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  line-height: 20px;\n  margin-top: 24px;\n  padding: 12px 8px;\n  width: 100%;\n  margin: 0 0 8px 0;\n}\n.e4oQ80hhwskgm0 h3 {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-top: 20px;\n  text-transform: uppercase;\n  margin: 0 0 4px 0;\n}\n.JpFkq3ylJ7WaJB {\n  font-size: 12px;\n  line-height: 16px;\n  margin: 0 0 24px 0;\n  padding: 0;\n}\n._7K5eXLmpVDVVn_ {\n  font-size: 12px;\n  line-height: 16px;\n  padding: 0;\n  margin: 0 0 0 16px;\n}\n._1OsL-cFwsCnpoR {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  max-height: 240px;\n  padding-right: 16px;\n  margin-right: -16px;\n  max-height: 248px;\n}\n._1OsL-cFwsCnpoR ._2zSCkkU6MFcgvU {\n  width: 50%;\n  box-sizing: border-box;\n}\n._1OsL-cFwsCnpoR ._2zSCkkU6MFcgvU:nth-child(odd) {\n  padding-right: 4px;\n}\n._1OsL-cFwsCnpoR ._2zSCkkU6MFcgvU:nth-child(even) {\n  padding-left: 4px;\n}\n._2rnoWooBGJEBln {\n  margin: 4px 0 8px 0;\n}\np.ejKbWRdfty_ZPo {\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n  margin: 0 0 8px 0;\n}\n._2SHKl3L07vUFxI {\n  display: block;\n  padding-left: 56px;\n  padding-right: 56px;\n  margin: 0 auto;\n}\n",""]),i.locals={container:"e4oQ80hhwskgm0",selectAnotherButton:"JpFkq3ylJ7WaJB",selectionButton:"_7K5eXLmpVDVVn_",boards:"_1OsL-cFwsCnpoR",boardTile:"_2zSCkkU6MFcgvU",bottomLine:"_2rnoWooBGJEBln",note:"ejKbWRdfty_ZPo",nextButton:"_2SHKl3L07vUFxI"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDesktopBanner.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._2OekdlJYc9McUk {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 0;\n}\n._2gFQNGMxGXLxYz {\n  margin: 0;\n  padding-left: 32px;\n  padding-right: 32px;\n}\n._2gFQNGMxGXLxYz._3eaGuhNRK6FJvX {\n  background: rgba(9, 30, 66, 0.04);\n}\n._2gFQNGMxGXLxYz:focus {\n  outline: #5AAC44;\n}\n._1bzvFxjMNzOWjI {\n  padding: 0;\n  min-width: 600px;\n  max-width: 100%;\n  min-height: 64px;\n}\n",""]),i.locals={banner:"_2OekdlJYc9McUk",button:"_2gFQNGMxGXLxYz",neutral:"_3eaGuhNRK6FJvX",dialog:"_1bzvFxjMNzOWjI"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDialog.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3fq67aAoNwFU5p {\n  position: relative;\n  padding: 0 32px;\n}\n._2W470ikPWwsTS3 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  width: 32px;\n  height: 32px;\n  top: 8px;\n  background: rgba(9, 30, 66, 0.04);\n  border-radius: 3px;\n  padding: 0;\n  margin: 0;\n}\n._2W470ikPWwsTS3._1AEK3Yff1CjD8Z {\n  left: 8px;\n}\n._2W470ikPWwsTS3._3S032jE8Od0ShI {\n  right: 8px;\n}\n._2W470ikPWwsTS3:hover {\n  background: rgba(9, 30, 66, 0.08);\n}\n",""]),i.locals={wizard:"_3fq67aAoNwFU5p",iconButton:"_2W470ikPWwsTS3",back:"_1AEK3Yff1CjD8Z",close:"_3S032jE8Od0ShI"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDone.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,".fugpk3WLByvVvq {\n  padding: 32px 0 16px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.fugpk3WLByvVvq h1 {\n  color: #172B4D;\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  line-height: 28px;\n  margin-top: 40px;\n  text-align: center;\n  font-weight: 500;\n  font-size: 24px;\n  margin: 24px 0 8px 0;\n}\n.fugpk3WLByvVvq p {\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 24px;\n}\n.fugpk3WLByvVvq img {\n  height: 160px;\n}\n._1xF6Sv4w-b8Pqh {\n  display: block;\n  padding-left: 56px;\n  padding-right: 56px;\n  margin: 0 auto;\n}\n",""]),i.locals={container:"fugpk3WLByvVvq",doneButton:"_1xF6Sv4w-b8Pqh"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMembershipDropdown.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,".brmsSQ1tAYaT4R {\n  margin: 0;\n  min-width: 96px;\n  width: 172px;\n  justify-content: space-between;\n}\n.cZt76_aix1ztkN {\n  width: 14px;\n}\n._1qKZM77zsxM2U3 {\n  color: #172B4D;\n  padding: 6px 12px;\n  margin: 0 -12px;\n}\n._-623IXK8gDsYPP {\n  clear: both;\n  color: #5E6C84;\n  display: block;\n  font-size: 12px;\n  font-weight: normal;\n  line-height: 16px;\n  margin-top: 4px;\n}\n._3UB1sgZl_KfxDN {\n  margin-left: 8px;\n  color: #6B778C;\n}\n",""]),i.locals={permissionButton:"brmsSQ1tAYaT4R",downIcon:"cZt76_aix1ztkN",membershipTitle:"_1qKZM77zsxM2U3",membershipSubText:"_-623IXK8gDsYPP",checkmark:"_3UB1sgZl_KfxDN"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMessagePill.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3dutmTTJVDSCMX {\n  padding: 8px;\n  margin-bottom: 8px;\n  width: 100%;\n  min-height: 32px;\n  border-radius: 3px;\n  box-sizing: border-box;\n  font-size: 12px;\n  line-height: 16px;\n  text-align: left;\n}\n._3dutmTTJVDSCMX h2,\n._3dutmTTJVDSCMX h3,\n._3dutmTTJVDSCMX h4,\n._3dutmTTJVDSCMX h5,\n._3dutmTTJVDSCMX h6 {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-top: 20px;\n  margin-top: 0;\n  margin-bottom: 4px;\n}\n._3dutmTTJVDSCMX p:last-child {\n  margin-bottom: 0;\n}\n._1M5oYXd5zPBFvM {\n  color: #FFFFFF;\n  background: #CF513D;\n}\n._1M5oYXd5zPBFvM h2,\n._1M5oYXd5zPBFvM h3,\n._1M5oYXd5zPBFvM h4,\n._1M5oYXd5zPBFvM h5,\n._1M5oYXd5zPBFvM h6 {\n  color: #FFFFFF;\n}\n._1M5oYXd5zPBFvM a {\n  color: #FFFFFF;\n}\n._1M5oYXd5zPBFvM a:hover,\n._1M5oYXd5zPBFvM a:active {\n  color: #F5D3CE;\n}\n._6YLS3JNUm8n5gb {\n  color: #172B4D;\n  background: #E4F0F6;\n}\n._6YLS3JNUm8n5gb h2,\n._6YLS3JNUm8n5gb h3,\n._6YLS3JNUm8n5gb h4,\n._6YLS3JNUm8n5gb h5,\n._6YLS3JNUm8n5gb h6 {\n  color: #172B4D;\n}\n._6YLS3JNUm8n5gb a {\n  color: #172B4D;\n}\n._6YLS3JNUm8n5gb a:hover,\n._6YLS3JNUm8n5gb a:active {\n  color: #42526E;\n}\n",""]),i.locals={pill:"_3dutmTTJVDSCMX",error:"_1M5oYXd5zPBFvM",alert:"_6YLS3JNUm8n5gb"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMoveBoards.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3VzXs0CUR00vmO {\n  padding: 32px 0 16px 0;\n}\n._3VzXs0CUR00vmO h2 {\n  color: #172B4D;\n  font-size: 24px;\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  line-height: 28px;\n  margin-top: 40px;\n  text-align: center;\n  font-weight: 500;\n  margin: 0 0 8px 0;\n}\n._3VzXs0CUR00vmO p {\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 24px;\n}\n._3VzXs0CUR00vmO hr {\n  background-color: #EBECF0;\n}\n._3VzXs0CUR00vmO ._3mtz7UTlL4h32N {\n  color: #172B4D;\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  line-height: 20px;\n  margin-top: 24px;\n  color: #5E6C84;\n  margin: 0 0 8px 0;\n}\n._3VzXs0CUR00vmO h3 {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-top: 20px;\n  text-transform: uppercase;\n  margin: 0 0 4px 0;\n}\n._1xq0izJltZWvUm {\n  margin-top: 8px;\n}\np.wBSK2AO5YsBzTi {\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n  margin: 0 0 8px 0;\n}\n.BNZM6D1DHItxkG {\n  display: block;\n  padding-left: 56px;\n  padding-right: 56px;\n  margin: 0 auto;\n}\n",""]),i.locals={container:"_3VzXs0CUR00vmO",movePrompt:"_3mtz7UTlL4h32N",separator:"_1xq0izJltZWvUm",note:"wBSK2AO5YsBzTi",doneButton:"BNZM6D1DHItxkG"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardPostMigrationBanner.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"@media only screen and (max-width: 750px) {\n  ._2n7US8x-LwcMu0 {\n    display: none;\n  }\n}\n._3rUKeW0PvqCLfT {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 0;\n}\n._3qulLld4TWXJ3y {\n  margin: 0;\n  padding-left: 32px;\n  padding-right: 32px;\n}\n._3qulLld4TWXJ3y._1q6cehuOwyBIAI {\n  background: rgba(9, 30, 66, 0.04);\n}\n._3qulLld4TWXJ3y:focus {\n  outline: #5AAC44;\n}\n._23AKDKWmURuI0B {\n  margin-left: 4px;\n}\n.-bsL5XSncH9WOK {\n  padding: 0;\n  min-width: 600px;\n  max-width: 100%;\n  min-height: 64px;\n}\n._3lE3uX2MnqJdYL {\n  margin-bottom: 0;\n}\n",""]),i.locals={bannerWrapper:"_2n7US8x-LwcMu0",banner:"_3rUKeW0PvqCLfT",button:"_3qulLld4TWXJ3y",neutral:"_1q6cehuOwyBIAI",dismissButton:"_23AKDKWmURuI0B",dialog:"-bsL5XSncH9WOK",selectionButton:"_3lE3uX2MnqJdYL"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardPreMigrationBanner.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"@media only screen and (max-width: 750px) {\n  ._1G1wXGsYuR0sE8 {\n    display: none;\n  }\n}\n._3OqhdEa1trMCAV {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 0;\n}\n.eQ5kYO8Qjp5w2J {\n  margin: 0;\n  padding-left: 32px;\n  padding-right: 32px;\n}\n.eQ5kYO8Qjp5w2J._2c0udMzy5ww2wi {\n  background: rgba(9, 30, 66, 0.04);\n}\n.eQ5kYO8Qjp5w2J:focus {\n  outline: #5AAC44;\n}\n._2ykX_-9GTAm4D6 {\n  padding: 0;\n  min-width: 600px;\n  max-width: 100%;\n  min-height: 64px;\n}\n",""]),i.locals={bannerWrapper:"_1G1wXGsYuR0sE8",banner:"_3OqhdEa1trMCAV",button:"eQ5kYO8Qjp5w2J",neutral:"_2c0udMzy5ww2wi",dialog:"_2ykX_-9GTAm4D6"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardStart.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._2J6XriBYzJwF9A {\n  display: flex;\n  align-items: center;\n  text-align: center;\n  flex-direction: column;\n  padding: 24px 16px;\n}\n._2J6XriBYzJwF9A .NtIlIJFuBP5aqm {\n  font-size: 24px;\n  margin-top: 24px;\n  margin-bottom: 0;\n  line-height: 32px;\n}\n._2J6XriBYzJwF9A ._2EU2avm0mKlIIQ {\n  margin: 8px 0 32px;\n}\n._2J6XriBYzJwF9A ._2rl73HRUx9KkgA {\n  color: #5E6C84;\n  margin: 16px auto;\n}\n._2J6XriBYzJwF9A ._2gyIgNzXsyOCWs {\n  color: #5E6C84;\n  font-size: 12px;\n  margin-bottom: 0;\n}\n",""]),i.locals={container:"_2J6XriBYzJwF9A",startMigrationTitle:"NtIlIJFuBP5aqm",startMigrationBody:"_2EU2avm0mKlIIQ",line:"_2rl73HRUx9KkgA",footerText:"_2gyIgNzXsyOCWs"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardTeamMemberships.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._2LNR2AZaZ3-v2I {\n  text-align: center;\n  padding: 32px 0 16px 0;\n}\n._2LNR2AZaZ3-v2I .isP4BNKL76fk1o {\n  margin-top: 16px;\n}\n._2LNR2AZaZ3-v2I h2 {\n  color: #172B4D;\n  font-size: 24px;\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  line-height: 28px;\n  margin-top: 40px;\n  font-weight: 500;\n  margin: 0 0 8px 0;\n}\n._2LNR2AZaZ3-v2I p {\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 24px;\n}\n._2LNR2AZaZ3-v2I p._1jFCSOfoa-UBLI {\n  color: #5E6C84;\n  margin-bottom: 8px;\n}\n._2LNR2AZaZ3-v2I hr {\n  background-color: #EBECF0;\n}\n._3uYMhop2UfoZlI {\n  overflow-x: hidden;\n  overflow-y: auto;\n  max-height: 240px;\n  padding-right: 16px;\n  margin-right: -16px;\n}\n._3uYMhop2UfoZlI table,\n._3uYMhop2UfoZlI thead,\n._3uYMhop2UfoZlI tbody,\n._3uYMhop2UfoZlI th,\n._3uYMhop2UfoZlI tr,\n._3uYMhop2UfoZlI td {\n  background: none;\n  border: none;\n  text-align: left;\n  padding: 0;\n}\n._3uYMhop2UfoZlI table {\n  border-collapse: separate;\n  border-spacing: 0;\n}\n._3uYMhop2UfoZlI table thead {\n  border-bottom: 1px solid #EBECF0;\n}\n._3uYMhop2UfoZlI table thead th {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-top: 16px;\n  position: -webkit-sticky;\n  position: sticky;\n  /* stylelint-disable-line */\n  top: 0;\n  padding-bottom: 8px;\n  background-color: #F4F5F7;\n  z-index: 1;\n}\n._3uYMhop2UfoZlI table tbody td {\n  padding: 8px 0;\n  vertical-align: middle;\n}\n._3uYMhop2UfoZlI table tbody td:first-child {\n  width: 100%;\n}\nul._1D3lNlGrOZuIqa {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 24px;\n}\nul._1D3lNlGrOZuIqa li {\n  display: flex;\n  width: 312px;\n  align-items: center;\n  text-align: left;\n  margin-bottom: 8px;\n  font-size: 12px;\n  line-height: 16px;\n}\nul._1D3lNlGrOZuIqa li ._2b--JRYbNisqNa {\n  display: flex;\n  width: 24px;\n  height: 24px;\n  flex: 0 0 24px;\n  align-items: center;\n  justify-content: center;\n  background: rgba(9, 30, 66, 0.04);\n  border-radius: 3px;\n  margin-right: 8px;\n}\nul._1D3lNlGrOZuIqa li ._2b--JRYbNisqNa._1KxuNFUJcW_GWN svg {\n  color: #0079BF;\n}\nul._1D3lNlGrOZuIqa li ._2b--JRYbNisqNa.tSzPxHb0pZTIUV svg {\n  color: #CF513D;\n}\nul._1D3lNlGrOZuIqa li ._2b--JRYbNisqNa._3BKGLBUTrawNa8 svg {\n  color: #E79217;\n}\nul._1D3lNlGrOZuIqa li ._2b--JRYbNisqNa._2zzw-dcob8BhXf svg {\n  color: #5AAC44;\n}\n._2yOnPDXRNFFIeJ {\n  display: flex;\n  align-items: center;\n}\n._2yOnPDXRNFFIeJ .GAsnRF5V2W1fpj {\n  width: 32px;\n  height: 32px;\n  flex: 0 0 32px;\n  margin-right: 8px;\n}\n._2yOnPDXRNFFIeJ ._1d8tZmlgdq9xF7 {\n  flex: 1;\n  font-size: 12px;\n  line-height: 16px;\n  width: 40px;\n}\n._2yOnPDXRNFFIeJ ._1d8tZmlgdq9xF7 ._34MOVfgW5C3ubh {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n._2yOnPDXRNFFIeJ ._2Jqu8gAZY6A5_a {\n  color: #5E6C84;\n}\n._1M-7zGIN6wKjua {\n  display: block;\n  background-color: #CF513D;\n  color: #FFFFFF;\n  margin-bottom: 10px;\n  padding: 10px;\n  font-size: 12px;\n}\n.Rs9tObjGVtSkwu {\n  padding-left: 56px;\n  padding-right: 56px;\n  margin-bottom: 0;\n}\n",""]),i.locals={container:"_2LNR2AZaZ3-v2I",spinner:"isP4BNKL76fk1o",footerText:"_1jFCSOfoa-UBLI",tableWrapper:"_3uYMhop2UfoZlI",permissionsList:"_1D3lNlGrOZuIqa",permissionIcon:"_2b--JRYbNisqNa",guests:"_1KxuNFUJcW_GWN",members:"tSzPxHb0pZTIUV",private:"_3BKGLBUTrawNa8",aaua:"_2zzw-dcob8BhXf",member:"_2yOnPDXRNFFIeJ",memberAvatar:"GAsnRF5V2W1fpj",memberDetails:"_1d8tZmlgdq9xF7",memberFullName:"_34MOVfgW5C3ubh",memberUsername:"_2Jqu8gAZY6A5_a",updateMembershipsError:"_1M-7zGIN6wKjua",nextButton:"Rs9tObjGVtSkwu"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverMenu/PopoverMenu.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,'._3Qtx4lodxp9J0E {\n  background-color: transparent;\n  border: none;\n  background: #FFFFFF;\n  border-radius: 0;\n  box-shadow: none;\n  color: #172B4D;\n  display: block;\n  height: 100%;\n  padding: 6px 12px;\n  text-align: left;\n  text-decoration: none;\n  width: 100%;\n  transition: none;\n  margin: 0;\n  outline: 0;\n}\n._3Qtx4lodxp9J0E:hover {\n  background-color: transparent;\n  border: none;\n  box-shadow: none;\n  background: rgba(9, 30, 66, 0.04);\n}\n._3Qtx4lodxp9J0E:active {\n  background-color: transparent;\n  border: none;\n  box-shadow: none;\n  background: #E4F0F6;\n}\n._3Qtx4lodxp9J0E._31k3XfnerJgTZ8:focus {\n  /*\n    TODO\n    Ideally we want to remove the global :focus override from classic.\n    It hurts accessibility and forces us to do stuff like this.\n    Once it is done, this can be removed.\n  */\n  outline: black dotted 1px;\n}\n@media screen and (-webkit-min-device-pixel-ratio: 0) {\n  ._3Qtx4lodxp9J0E._31k3XfnerJgTZ8:focus {\n    outline: -webkit-focus-ring-color auto 5px;\n  }\n}\n._3Qtx4lodxp9J0E[disabled]:active,\n._3Qtx4lodxp9J0E[disabled]:focus,\n._3Qtx4lodxp9J0E[disabled]:hover {\n  background: transparent;\n  color: #A5ADBA !important;\n}\n._3Qtx4lodxp9J0E[disabled]:active ._3Gw3Oa5-RMe50s svg,\n._3Qtx4lodxp9J0E[disabled]:focus ._3Gw3Oa5-RMe50s svg,\n._3Qtx4lodxp9J0E[disabled]:hover ._3Gw3Oa5-RMe50s svg {\n  color: #A5ADBA !important;\n}\n._3Qtx4lodxp9J0E[disabled]:active span[name="check"],\n._3Qtx4lodxp9J0E[disabled]:focus span[name="check"],\n._3Qtx4lodxp9J0E[disabled]:hover span[name="check"] {\n  color: #6B778C !important;\n}\n._3Qtx4lodxp9J0E[disabled]:active .M91aWYFMf7mrFf,\n._3Qtx4lodxp9J0E[disabled]:focus .M91aWYFMf7mrFf,\n._3Qtx4lodxp9J0E[disabled]:hover .M91aWYFMf7mrFf {\n  color: #A5ADBA !important;\n}\n._3jTRr1WChvvqHf {\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 20px;\n}\n._3jTRr1WChvvqHf._2VCqfvi0epFnIK {\n  margin: 0;\n}\n.M91aWYFMf7mrFf {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 16px;\n  margin: 4px 0 0 0;\n  padding: 0;\n}\n.DIhgdvAd-R4ToE::after {\n  background-color: rgba(9, 30, 66, 0.13);\n  content: " ";\n  display: block;\n  height: 1px;\n  margin: 8px auto;\n  width: calc(100% - 20px);\n}\n',""]),i.locals={link:"_3Qtx4lodxp9J0E",linkFocusRing:"_31k3XfnerJgTZ8",icon:"_3Gw3Oa5-RMe50s",description:"M91aWYFMf7mrFf",title:"_3jTRr1WChvvqHf",withoutMargins:"_2VCqfvi0epFnIK",withSeparator:"DIhgdvAd-R4ToE"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/SelectableCompactBoardTile/SelectableCompactBoardTile.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3OZu-wDUWQan4V {\n  display: flex;\n  flex: 1;\n  min-width: 0;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center;\n  margin: 4px;\n  border-radius: 3px;\n  opacity: 0.7;\n}\n._3OZu-wDUWQan4V._3lGIRy-sr6rbwr {\n  cursor: pointer;\n}\n._3OZu-wDUWQan4V._3lGIRy-sr6rbwr:hover {\n  opacity: 1;\n}\n._3tGO8hwBuqKsJM {\n  flex-shrink: 0;\n  background-size: cover;\n  height: 36px;\n  width: 36px;\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n}\n._3Tn7u3ogHUKO4Y {\n  display: flex;\n  flex-grow: 1;\n  min-width: 0;\n  background-color: rgba(255, 255, 255, 0.7);\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n.sO9IpUgvupHb_U {\n  flex-grow: 1;\n  flex-basis: 0%;\n  min-width: 0;\n  padding-left: 9px;\n  padding-right: 9px;\n}\n._37whG-idEwfS3g {\n  color: #172B4D;\n  font-weight: bold;\n  line-height: 36px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n._36zOougF5nsDD2 {\n  width: 36px;\n  flex-shrink: 1;\n  line-height: 36px;\n  text-align: center;\n  font-weight: bold;\n  -webkit-user-select: none;\n          user-select: none;\n}\n._3no4boexbvL1Ua {\n  opacity: 1;\n}\n._3xtAZq8MRct8Fo {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n",""]),i.locals={container:"_3OZu-wDUWQan4V",selectable:"_3lGIRy-sr6rbwr",boardThumbnail:"_3tGO8hwBuqKsJM",boardDescription:"_3Tn7u3ogHUKO4Y",boardNameWrapper:"sO9IpUgvupHb_U",boardName:"_37whG-idEwfS3g",checkmark:"_36zOougF5nsDD2",selectedCompactBoardTile:"_3no4boexbvL1Ua",disabled:"_3xtAZq8MRct8Fo"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./packages/a11y/src/AccessibilityMenu/AccessibilityMenu.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3YGsFyACTefHYF {\n  margin: 0;\n}\n._3jRzoY8BUC9T9r {\n  display: flex;\n}\n._3jRzoY8BUC9T9r .VZsWvb5qVISKPp {\n  margin-left: 3px;\n  margin-top: 2px;\n}\n._3jRzoY8BUC9T9r ._1iZ4r0EebD-_AO {\n  flex: 1;\n}\n._24YY3ffS5pAZxi {\n  align-items: center;\n  color: #091E42;\n  display: flex;\n  font-size: 14px;\n  font-weight: normal;\n}\n._24YY3ffS5pAZxi .VZsWvb5qVISKPp {\n  margin-left: 3px;\n  margin-top: 2px;\n}\n._24YY3ffS5pAZxi ._1ragvyIlBWNN0g {\n  flex: 1;\n}\n.Yv_Jd5QjuO4P7w ._1O4iygPyhEyA1- {\n  display: block;\n  padding: 8px;\n  margin-top: 4px;\n}\n.Yv_Jd5QjuO4P7w label {\n  cursor: pointer;\n}\n.Yv_Jd5QjuO4P7w ._24YY3ffS5pAZxi:hover,\n.Yv_Jd5QjuO4P7w ._2BpqOEsSdnZi8i:hover,\n.Yv_Jd5QjuO4P7w ._1O4iygPyhEyA1-:hover,\n.Yv_Jd5QjuO4P7w ._24YY3ffS5pAZxi:focus-visible,\n.Yv_Jd5QjuO4P7w ._2BpqOEsSdnZi8i:focus-visible,\n.Yv_Jd5QjuO4P7w ._1O4iygPyhEyA1-:focus-visible {\n  background: rgba(9, 30, 66, 0.04);\n}\n",""]),i.locals={colorVisionLabel:"_3YGsFyACTefHYF",colorVisionOptions:"_3jRzoY8BUC9T9r",checkbox:"VZsWvb5qVISKPp",select:"_1iZ4r0EebD-_AO",tota11yOptions:"_24YY3ffS5pAZxi",label:"_1ragvyIlBWNN0g",accessibilityMenuWrapper:"Yv_Jd5QjuO4P7w",link:"_1O4iygPyhEyA1-",checkboxLabel:"_2BpqOEsSdnZi8i"},n.a=i},"./packages/a11y/index.ts":function(e,n,a){"use strict";a.r(n),a.d(n,"AccessibilityMenu",(function(){return N})),a.d(n,"AccessibilityMenuOptions",(function(){return j})),a.d(n,"a11yMenuState",(function(){return c})),a.d(n,"useFocusRing",(function(){return x}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./packages/nachos/icons/external-link.tsx"),o=a("./packages/nachos/checkbox.ts"),s=a("./packages/shared-state/index.ts"),l=a("./node_modules/uuid/v4.js"),d=a.n(l);const c=new s.b({colorVisionMode:"",isColorVisionEnabled:!1,isTota11yInstalled:!1,isTota11yEnabled:!1});var m,u=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),p=a.n(u),b=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./packages/a11y/src/AccessibilityMenu/AccessibilityMenu.less"),g={insert:"head",singleton:!1},k=(p()(b.a,g),b.a.locals||{});!function(e){e.Achromatopsia="Achromatopsia",e.BlurredVision="Blurred Vision",e.Deuteranopia="Deuteranopia",e.Protanopia="Protanopia",e.Tritanopia="Tritanopia"}(m||(m={}));const v=new Map([[m.Achromatopsia,'<feColorMatrix values="\n        0.213  0.715  0.072  0.000  0.000\n        0.213  0.715  0.072  0.000  0.000\n        0.213  0.715  0.072  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />'],[m.BlurredVision,'<feGaussianBlur stdDeviation="2" />'],[m.Deuteranopia,'<feColorMatrix values="\n        0.367  0.861 -0.228  0.000  0.000\n        0.280  0.673  0.047  0.000  0.000\n        -0.012  0.043  0.969  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />'],[m.Protanopia,'<feColorMatrix values="\n        0.152  1.053 -0.205  0.000  0.000\n        0.115  0.786  0.099  0.000  0.000\n        -0.004 -0.048  1.052  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />'],[m.Tritanopia,'<feColorMatrix values="\n        1.256 -0.077 -0.179  0.000  0.000\n        -0.078  0.931  0.148  0.000  0.000\n        0.005  0.691  0.304  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />']]),f=()=>{const[{colorVisionMode:e,isColorVisionEnabled:n,isTota11yInstalled:a,isTota11yEnabled:r},l]=Object(s.c)(c),m=Object(t.useCallback)((()=>{l({colorVisionMode:e,isColorVisionEnabled:!n,isTota11yInstalled:a,isTota11yEnabled:r})}),[l,e,n,a,r]),u=Object(t.useCallback)((({target:{value:e}})=>l({colorVisionMode:e,isColorVisionEnabled:n,isTota11yInstalled:a,isTota11yEnabled:r})),[l,n,a,r]),p=d()();return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:p,className:k.colorVisionLabel},"Color vision emulation"),i.a.createElement("div",{className:k.colorVisionOptions},i.a.createElement(o.a,{className:k.checkbox,isChecked:n,onChange:m,id:p}),i.a.createElement("select",{disabled:!n,className:k.select,"aria-label":"Color vision emulation options",onChange:u,defaultValue:e},i.a.createElement("option",{disabled:!0,value:""},"Select an emulation"),[...v.keys()].map((e=>i.a.createElement("option",{key:e,value:e},e))))))},O=()=>{var e;const[{colorVisionMode:n,isColorVisionEnabled:a}]=Object(s.c)(c),t=null===(e=v.get(n))||void 0===e?void 0:e.replace(/(\n|^\s|\s$)/g,""),r=d()();return a&&t?i.a.createElement("style",null,'#trello-root {\n      filter: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="'.concat(r,'">').concat(t,"</filter></svg>#").concat(r,"');\n    }")):null},h=()=>{const[{isTota11yEnabled:e,colorVisionMode:n,isColorVisionEnabled:r},l]=Object(s.c)(c),m=Object(t.useCallback)((async()=>{e||(await a.e(203).then(a.t.bind(null,"./node_modules/@khanacademy/tota11y/dist/tota11y.js",7)),setTimeout((()=>{var e;null===(e=document.querySelector(".tota11y-toolbar"))||void 0===e||e.classList.add("tota11y-expanded")}),300)),l({colorVisionMode:n,isColorVisionEnabled:r,isTota11yInstalled:!0,isTota11yEnabled:!e})}),[l,n,r,e]),u=d()();return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:u,className:k.tota11yOptions},i.a.createElement(o.a,{id:u,onChange:m,isChecked:e,className:k.checkbox}),i.a.createElement("span",{className:k.label},"Enable Tota11y sidebar")))},y=()=>{const[{isTota11yInstalled:e,isTota11yEnabled:n}]=Object(s.c)(c);return e&&!n?i.a.createElement("style",null,".tota11y { display: none !important }"):null},N=()=>i.a.createElement("div",{className:k.accessibilityMenuWrapper},i.a.createElement(h,null),i.a.createElement(f,null),i.a.createElement("a",{className:k.link,href:"https://hello.atlassian.net/wiki/spaces/TRELLOFE/pages/941672748/20.+Accessibility",target:"_blank"},"Web accessibility guide ",i.a.createElement(r.a,null))),j=()=>i.a.createElement(i.a.Fragment,null,i.a.createElement(y,null),i.a.createElement(O,null)),x=(e={})=>{const[n,a]=Object(t.useState)(!1),[i,r]=Object(t.useState)(!1),[o,s]=Object(t.useState)(!1),l=()=>{i&&o||a(!0)};return[n,{onMouseEnter:n=>{r(!0),a(!1),e.onMouseEnter&&e.onMouseEnter(n)},onMouseLeave:n=>{r(!1),a(!1),e.onMouseLeave&&e.onMouseLeave(n)},onMouseDown:n=>{s(!0),a(!1),e.onMouseDown&&e.onMouseDown(n)},onKeyDown:n=>{s(!1),l(),e.onKeyDown&&e.onKeyDown(n)},onKeyUp:n=>{l(),e.onKeyUp&&e.onKeyUp(n)},onBlur:n=>{a(!1),e.onBlur&&e.onBlur(n)}}]}},"./packages/nachos/icons/add-member.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return s}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./packages/nachos/src/components/Icon/index.ts");const o=()=>i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 13C14.7614 13 17 10.7614 17 8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8C7 9.44777 7.61532 10.7518 8.59871 11.6649C5.31433 13.0065 3 16.233 3 20C3 20.5523 3.44772 21 4 21H12C12.5523 21 13 20.5523 13 20C13 19.4477 12.5523 19 12 19H5.07089C5.55612 15.6077 8.47353 13 12 13ZM15 8C15 9.65685 13.6569 11 12 11C10.3431 11 9 9.65685 9 8C9 6.34315 10.3431 5 12 5C13.6569 5 15 6.34315 15 8Z",fill:"currentColor"}),i.a.createElement("path",{d:"M17 14C17 13.4477 17.4477 13 18 13C18.5523 13 19 13.4477 19 14V16H21C21.5523 16 22 16.4477 22 17C22 17.5523 21.5523 18 21 18H19V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20V18H15C14.4477 18 14 17.5523 14 17C14 16.4477 14.4477 16 15 16H17V14Z",fill:"currentColor"})),s=e=>{const{testId:n,dangerous_className:a,size:t,color:s,label:l,block:d}=e;return i.a.createElement(r.a,{testId:n,size:t,dangerous_className:a,color:s,block:d,label:l||"AddMemberIcon",glyph:o})}},"./packages/nachos/icons/private.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return s}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./packages/nachos/src/components/Icon/index.ts");const o=()=>i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 11C5 9.89543 5.89543 9 7 9H8H10H14H16H17C18.1046 9 19 9.89543 19 11V19C19 20.1046 18.1046 21 17 21H7C5.89543 21 5 20.1046 5 19V11ZM10 11H14H16H17V19H7V11H8H10ZM14 15C14 16.1046 13.1046 17 12 17C10.8954 17 10 16.1046 10 15C10 13.8954 10.8954 13 12 13C13.1046 13 14 13.8954 14 15Z",fill:"currentColor"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3817 5.69846C10.0982 6.10344 10 6.63103 10 7V9H8V7C8 6.36897 8.15175 5.39656 8.74327 4.55154C9.37523 3.64874 10.4367 3 12 3C13.5633 3 14.6248 3.64874 15.2567 4.55154C15.8482 5.39656 16 6.36897 16 7V9H14V7C14 6.63103 13.9018 6.10344 13.6183 5.69846C13.3752 5.35126 12.9367 5 12 5C11.0633 5 10.6248 5.35126 10.3817 5.69846Z",fill:"currentColor"})),s=e=>{const{testId:n,dangerous_className:a,size:t,color:s,label:l,block:d}=e;return i.a.createElement(r.a,{testId:n,size:t,dangerous_className:a,color:s,block:d,label:l||"PrivateIcon",glyph:o})}},"./packages/nachos/icons/sparkle.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return s}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./packages/nachos/src/components/Icon/index.ts");const o=()=>i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M8 2L7 7L2 8L7 9L8 14L9 9L14 8L9 7L8 2Z",fill:"currentColor"}),i.a.createElement("path",{d:"M17 11L18 8L19 11L22 12L19 13L18 16L17 13L14 12L17 11Z",fill:"currentColor"}),i.a.createElement("path",{d:"M11 17L12 14L13 17L16 18L13 19L12 22L11 19L8 18L11 17Z",fill:"currentColor"})),s=e=>{const{testId:n,dangerous_className:a,size:t,color:s,label:l,block:d}=e;return i.a.createElement(r.a,{testId:n,size:t,dangerous_className:a,color:s,block:d,label:l||"SparkleIcon",glyph:o})}},"./resources/images/bc-sparkle-flat.svg":function(e,n,a){e.exports=a.p+"images/bc-sparkle-flat.a161cac3b4a9fe3e9b99.svg"},"./resources/images/migration-wizard/simple-path-done.svg":function(e,n,a){e.exports=a.p+"images/migration-wizard/simple-path-done.6ba985fbca73417c6ff1.svg"},"./resources/images/migration-wizard/start-board-migration.png":function(e,n,a){e.exports=a.p+"images/migration-wizard/start-board-migration.dbbeecc8541012b6aba2.png"}}]);
//# sourceMappingURL=migration-wizard.3b273c43fc84a9ba235c.js.map